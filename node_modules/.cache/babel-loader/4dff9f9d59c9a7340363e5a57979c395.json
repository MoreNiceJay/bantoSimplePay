{"ast":null,"code":"import _regeneratorRuntime from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";import constants from\"../../Constants\";import moment from\"moment\";import DesText from\"./components/DesText\";import CircularProgress from\"@mui/material/CircularProgress\";import{Stack}from\"@mui/material\";import RefreshIcon from\"@mui/icons-material/Refresh\";import IconButton from\"@mui/material/IconButton\";// PURCHASE START\nimport{Link}from\"react-router-dom\";import CustomButton from\"./components/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Slide from\"@material-ui/core/Slide\";import{useSnackbar}from\"notistack\";import{Typography,Button}from\"@mui/material\";import CustomCenterBox from\"../../components/CustomCenterBox\";import CustomLeftBox from\"../../components/CustomLeftBox\";import kakaoIcon from\"../../assets/icon/kakao.png\";import KakaoLogin from\"react-kakao-login\";var useStyles=makeStyles(function(theme){return{paper:{position:\"absolute\",width:400,backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});// PURCHASE END\nexport default function App(props){var classes=useStyles();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),stationId=_React$useState2[0],setStationId=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),bMarketingAgreed=_React$useState4[0],setMarketingAgreed=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userId=_React$useState6[0],setUserId=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),timeStamp=_React$useState8[0],setTimeStamp=_React$useState8[1];var bull=/*#__PURE__*/React.createElement(\"span\",{className:classes.bullet},\"\\u2022\");var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isLoading=_React$useState10[0],setLoading=_React$useState10[1];var pageState={login:\"LOGIN\",pay:\"PAY\",purchase:\"PURCHASE\"};var _React$useState11=React.useState(pageState.login),_React$useState12=_slicedToArray(_React$useState11,2),page=_React$useState12[0],setPage=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),data=_React$useState14[0],setData=_React$useState14[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var checkMobile=function checkMobile(){var varUA=navigator.userAgent.toLowerCase();//userAgent 값 얻기\nif(varUA.indexOf(\"android\")>-1){//안드로이드\nreturn\"android\";}else if(varUA.indexOf(\"iphone\")>-1||varUA.indexOf(\"ipad\")>-1||varUA.indexOf(\"ipod\")>-1){//IOS\nreturn\"ios\";}else{//아이폰, 안드로이드 외\nreturn\"other\";}};// iphone snackbar\nuseEffect(function(){if(checkMobile()==\"ios\"){enqueueSnackbar(\"로그인 후 좌측 상단 ◀︎ Safari 를 클릭해주세요\",{variant:\"info\",anchorOrigin:{vertical:\"top\",horizontal:\"center\"},TransitionComponent:Slide,autoHideDuration:5000});}},[]);// PURCHASE START\nvar _React$useState15=React.useState(\"\"),_React$useState16=_slicedToArray(_React$useState15,2),priceInfo=_React$useState16[0],setPriceInfo=_React$useState16[1];var _React$useState17=React.useState(\"https://bantoweb.xyz/policy/service_policy\"),_React$useState18=_slicedToArray(_React$useState17,2),policyUrl=_React$useState18[0],setPolicyUrl=_React$useState18[1];var _React$useState19=React.useState(false),_React$useState20=_slicedToArray(_React$useState19,2),open=_React$useState20[0],setOpen=_React$useState20[1];var _React$useState21=React.useState(\"paper\"),_React$useState22=_slicedToArray(_React$useState21,2),scroll=_React$useState22[0],setScroll=_React$useState22[1];var descriptionElementRef=React.useRef(null);function numberWithCommas(x){return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var kakaoLoginSuccess=function kakaoLoginSuccess(_ref){var response=_ref.response;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accessToken,kakaoInfo,kakaoPolicy,phoneNumber,kakaoId,email,marketingAgreed,bMarketingPolicyAgreed,loginWithKakao;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:accessToken=response.access_token;_context.next=3;return axios.post(constants.hosts.banto+\"/banto2/app/user/getKakaoInfo\",{accessKey:accessToken});case 3:kakaoInfo=_context.sent;if(!(kakaoInfo.data.code!==200)){_context.next=7;break;}window.alert(kakaoInfo.data.msg);return _context.abrupt(\"return\");case 7:_context.next=9;return axios.post(constants.hosts.banto+\"/banto2/app/user/getKakaoPolicy\",{accessKey:accessToken});case 9:kakaoPolicy=_context.sent;if(!(kakaoPolicy.data.code!==200)){_context.next=13;break;}window.alert(kakaoPolicy.data.msg);return _context.abrupt(\"return\");case 13:if(kakaoInfo.data.data.kakao_account.has_phone_number){_context.next=16;break;}window.alert(\"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\");return _context.abrupt(\"return\");case 16:phoneNumber=kakaoInfo.data.data.kakao_account.phone_number;phoneNumber=phoneNumber.replace(\" \",\"\");phoneNumber=phoneNumber.replace(/-/gi,\"\");kakaoId=kakaoInfo.data.data.id;email=kakaoInfo.data.data.kakao_account.email;marketingAgreed=kakaoPolicy.data.data.allowed_service_terms.length;bMarketingPolicyAgreed=marketingAgreed===4?true:false;setMarketingAgreed(bMarketingPolicyAgreed);_context.next=26;return axios.post(constants.hosts.banto+\"/banto2/app/user/loginWithKakaoId\",{kakaoId:kakaoId,phoneNumber:phoneNumber,email:email});case 26:loginWithKakao=_context.sent;setUserId(loginWithKakao.data.data.userId);sessionStorage.setItem(\"userId\",loginWithKakao.data.data.userId);sessionStorage.setItem(\"isLogin\",String(new Date()));setLoading(false);case 31:case\"end\":return _context.stop();}}},_callee);}))();};var kakaoLoginFail=function kakaoLoginFail(err){setLoading(true);alert(JSON.stringify(err));setLoading(false);window.alert(\"\".concat(err));};var body=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{width:\"80%\",height:\"80%\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},className:classes.paper},/*#__PURE__*/React.createElement(\"h2\",{id:\"simple-modal-title\"},\"Text in a modal\"),/*#__PURE__*/React.createElement(\"p\",{id:\"simple-modal-description\"},\"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\")),/*#__PURE__*/React.createElement(CustomButton,{style:{left:\"90%\",transform:\"translate( -50%)\"},variant:\"contained\",onClick:handleClose},\"\\uCDE8\\uC18C\"));React.useEffect(function(){if(open){var descriptionElement=descriptionElementRef.current;if(descriptionElement!==null){descriptionElement.focus();}}},[open]);React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userRentInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(page!==pageState.purchase)){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:_context2.next=4;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")});case 4:userRentInfo=_context2.sent;if(!(userRentInfo.data.code!==200)){_context2.next=8;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn _context2.abrupt(\"return\");case 8:if(!userRentInfo.data.data.bRenting){_context2.next=11;break;}// window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\nprops.history.push(\"/simple/renting\");return _context2.abrupt(\"return\");case 11:case\"end\":return _context2.stop();}}},_callee2);}))();},[page]);React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var checkUserPayment,payment,elem,priceInfo,storeName,storeelem;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(page!==pageState.purchase)){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return axios.post(constants.hosts.banto+\"/banto2/app/user/checkUserPayment\",{userId:sessionStorage.getItem(\"userId\")});case 4:checkUserPayment=_context3.sent;if(checkUserPayment.data.code!==200){}payment=checkUserPayment.data.data.payment;elem=document.getElementById(\"payment\");if(payment===\"kakaoPay\"){elem.innerHTML=\"카카오페이\";}else if(payment===\"creditCard\"){elem.innerHTML=\"신용카드\";}else{}_context3.next=11;return axios.post(constants.hosts.banto+\"/banto2/app/price/getPriceInfo\",{stationId:sessionStorage.getItem(\"stationId\")});case 11:priceInfo=_context3.sent;// console.log(res);\nif(priceInfo.status!==200){console.log(priceInfo.msg);}setPriceInfo(priceInfo.data);_context3.next=16;return axios.post(constants.hosts.banto+\"/banto2/app/store/getStoreName\",{stationId:sessionStorage.getItem(\"stationId\")});case 16:storeName=_context3.sent;storeelem=document.getElementById(\"storeName\");if(!(typeof elem===\"undefined\")){_context3.next=21;break;}storeelem.innerHTML=\"\";return _context3.abrupt(\"return\");case 21:case\"end\":return _context3.stop();}}},_callee3);}))();},[page]);// PURCHASE END\n// LOGIN\n// React.useEffect(() => {\n//   (async () => {\n//     setLoading(true);\n//     if (props.location.state !== undefined) {\n//       setStationId(props.location.state.stationId);\n//     }\n//     if (!window.Kakao.isInitialized()) {\n//       window.Kakao.init(\"86d0fb152d4eb19ea7bb774cd3c7809c\");\n//     }\n//     window.Kakao.Auth.createLoginButton({\n//       container: \"#create-kakao-login-btn\",\n//       success: async function (authObj) {\n//         const accessToken = authObj.access_token;\n//         // setTimeStamp(new Date());\n//         const kakaoInfo = await axios.post(\n//           constants.hosts.banto + \"/banto2/app/user/getKakaoInfo\",\n//           {\n//             accessKey: accessToken,\n//           }\n//         );\n//         if (kakaoInfo.data.code !== 200) {\n//           window.alert(kakaoInfo.data.msg);\n//           return;\n//         }\n//         const kakaoPolicy = await axios.post(\n//           constants.hosts.banto + \"/banto2/app/user/getKakaoPolicy\",\n//           {\n//             accessKey: accessToken,\n//           }\n//         );\n//         if (kakaoPolicy.data.code !== 200) {\n//           window.alert(kakaoPolicy.data.msg);\n//           return;\n//         }\n//         if (!kakaoInfo.data.data.kakao_account.has_phone_number) {\n//           window.alert(\n//             \"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\"\n//           );\n//           return;\n//           //   window.location.href = \"https://banto.io\";\n//         }\n//         let phoneNumber = kakaoInfo.data.data.kakao_account.phone_number;\n//         // phoneNumber = \"+82 10-9455-2410\";\n//         phoneNumber = phoneNumber.replace(\" \", \"\");\n//         phoneNumber = phoneNumber.replace(/-/gi, \"\");\n//         const kakaoId = kakaoInfo.data.data.id;\n//         const email = kakaoInfo.data.data.kakao_account.email;\n//         const marketingAgreed =\n//           kakaoPolicy.data.data.allowed_service_terms.length;\n//         const bMarketingPolicyAgreed = marketingAgreed === 4 ? true : false;\n//         setMarketingAgreed(bMarketingPolicyAgreed);\n//         const loginWithKakao = await axios.post(\n//           constants.hosts.banto + \"/banto2/app/user/loginWithKakaoId\",\n//           {\n//             kakaoId,\n//             phoneNumber,\n//             email,\n//           }\n//         );\n//         setUserId(loginWithKakao.data.data.userId);\n//         sessionStorage.setItem(\"userId\", loginWithKakao.data.data.userId);\n//         sessionStorage.setItem(\"isLogin\", String(new Date()));\n//         setLoading(false);\n//       },\n//       fail: function (err) {\n//         setLoading(true);\n//         alert(JSON.stringify(err));\n//         setLoading(false);\n//         window.alert(`${err}`);\n//       },\n//     });\n//   })();\n// }, []);\nReact.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var userPayment,rentInfo,updateUserPolicy,payment,bRenting;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(userId===\"\")){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:setLoading(true);console.log(\"유저아이디 들어옴\");_context4.next=6;return axios.post(constants.hosts.banto+\"/banto2/app/user/checkUserPayment\",{userId:userId});case 6:userPayment=_context4.sent;_context4.next=9;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:userId});case 9:rentInfo=_context4.sent;_context4.next=12;return axios.post(constants.hosts.banto+\"/banto2/app/user/updateUserAgreedPolicy\",{userId:userId,bMarketingPolicyAgreed:bMarketingAgreed});case 12:updateUserPolicy=_context4.sent;payment=userPayment.data.data.payment;bRenting=rentInfo.data.data.bRenting;setLoading(false);console.log(payment);if(bRenting){setPage(pageState.purchase);// props.history.push(\"/simple/purchase\");\n}else if(payment===\"none\"){props.history.push(\"/simple/kakaopay\");// setPage(pageState.pay)\n}else{setPage(pageState.purchase);// props.history.push(\"/simple/purchase\");\n}case 18:case\"end\":return _context4.stop();}}},_callee4);}))();setLoading(false);},[userId,timeStamp]);// LOGIN END\nfunction registerKakaoPay(_x){return _registerKakaoPay.apply(this,arguments);}function _registerKakaoPay(){_registerKakaoPay=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(userId){var registerKakao;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/user/registerKakaoPay\",{userId:userId});case 2:registerKakao=_context7.sent;setData(registerKakao.data);console.log(String(window.location).search(\"banto.io\")>0&&registerKakao.data.code===200);if((String(window.location).search(\"banto.io\")>0||String(window.location).search(\"localhost\")>0)&&registerKakao.data.code===200){setPage(pageState.pay);window.location.href=registerKakao.data.data.redirectUrl;}case 6:case\"end\":return _context7.stop();}}},_callee7);}));return _registerKakaoPay.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"#0B0B0C\",height:\"100vh\",width:\"100vw\"}},page===pageState.login&&/*#__PURE__*/React.createElement(React.Fragment,null,isLoading&&/*#__PURE__*/React.createElement(Stack,{alignItems:\"center\"},/*#__PURE__*/React.createElement(CircularProgress,{sx:{color:\"white\",backgroundColor:\"white\"}})),/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{pt:\"30%\",pb:\"30%\"}},/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{p:5,alignItems:\"center\"}},/*#__PURE__*/React.createElement(Typography,{color:\"white\",fontSize:40,fontWeight:700},\"BANTO\")),/*#__PURE__*/React.createElement(CustomLeftBox,{sx:{p:5}},/*#__PURE__*/React.createElement(Typography,{color:\"white\"},\"\\uAC04\\uD3B8 \\uACB0\\uC81C\\uB97C \\uC774\\uC6A9\\uD558\\uC2DC\\uB824\\uBA74\"),/*#__PURE__*/React.createElement(Typography,{color:\"white\",fontWeight:500},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#FFD95A\"}},\"\\uCE74\\uCE74\\uC624 \\uACC4\\uC815 \\uB85C\\uADF8\\uC778\"),\"\\uC744 \\uC774\\uC6A9\\uD558\\uC154\\uC57C \\uD569\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(CustomCenterBox,null,/*#__PURE__*/React.createElement(KakaoLogin,{token:\"86d0fb152d4eb19ea7bb774cd3c7809c\",onSuccess:kakaoLoginSuccess,onFail:kakaoLoginFail,render:function render(_ref6){var onClick=_ref6.onClick;return/*#__PURE__*/React.createElement(Button,{sx:{width:\"90%\",height:\"50px\",backgroundColor:\"black\",color:\"#FFD95A\",fontWeight:500,border:\"2px solid #FFD95A\",borderRadius:\"15px\",boxSizing:\"border-box\"},onClick:onClick},/*#__PURE__*/React.createElement(\"img\",{src:kakaoIcon,alt:\"\",style:{paddingRight:10}}),\"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\");}})))),page===pageState.pay&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"#0B0B0C\",height:\"100vh\",width:\"100vw\"}},/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:\"50%\"}},/*#__PURE__*/React.createElement(\"p\",{style:{top:\"50%\",color:\"white\",fontFamily:\" Montserrat\",fontStyle:\"normal\",fontWeight:\"800\",fontSize:\"40px\",marginLeft:\"32px\"}},\"2 / 2\"),/*#__PURE__*/React.createElement(\"div\",{style:{color:\"white\",marginTop:\"16px\",marginLeft:\"32px\",lineHeight:\"27px\",fontSize:\"18px\"}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#FFD95A\"}},\"\\uCE74\\uCE74\\uC624\\uD398\\uC774 \\uB4F1\\uB85D\"),\"\\uD6C4\"),/*#__PURE__*/React.createElement(\"p\",null,\"\\uBCF4\\uC870\\uBC30\\uD130\\uB9AC\\uB97C \\uB300\\uC5EC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\")),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"#0B0B0C\",height:\"80%\",width:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",marginTop:\"52px\"// justifyContent: \"space-evenly\"\n}},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"calc(100% - 32px)\",height:\"56px\",borderRadius:\"14px\",display:\"flex\",flexDirection:\"rows\",alignItems:\"center\",justifyContent:\"center\",border:\"2px solid #FFD95A\",backgroundColor:\"#0B0B0C\",color:\"#FFD95A\",marginTop:\"100px\"},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return registerKakaoPay(sessionStorage.getItem(\"userId\"));case 2:case\"end\":return _context5.stop();}}},_callee5);}))},/*#__PURE__*/React.createElement(\"img\",{style:{marginRight:\"10px\"},src:require(\"../../assets/img/kakao.png\")}),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"18px\"}},\"\\uCE74\\uCE74\\uC624\\uD398\\uC774 \\uB4F1\\uB85D\")))))),page===pageState.purchase&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"body\",{style:{width:\"100vw\",height:\"100vh\",backgroundColor:\"#0B0B0C\",overflow:\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{style:{position:\"flex\",textAlign:\"center\",marginTop:\"64px\"}},/*#__PURE__*/React.createElement(\"p\",{style:{height:\" 64px\",fontFamily:\"Noto Sans KR\",fontStyle:\" normal\",fontWeight:\" bold\",fontSize:\" 20px\",lineHeight:\" 30px\",color:\"#eaebf1\"}},\"\\uB77D\\uD574\\uC81C \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Montserrat\",fontStyle:\"normal\",fontWeight:\"bold\",fontSize:\"50px\",lineHeight:\"74px\",color:\"#00e676\",height:\"74px\"}},priceInfo&&numberWithCommas(priceInfo.data.basePrice),\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"56px\",marginLeft:\"16px\",marginRight:\"16px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{background:\"#000000\",border:\"2px solid #242427\",boxSizing:\"border-box\",borderRadius:\"15px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\",marginLeft:\"18px\",marginTop:\"40px\"}},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\"}},\"*\\uCD5C\\uC885 \\uACB0\\uC81C\\uB0B4\\uC5ED\\uC740 \\uBCF4\\uC870\\uBC30\\uD130\\uB9AC \\uBC18\\uB0A9 \\uD6C4 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\",marginTop:\"16px\",marginBottom:\"50px\",marginRight:\"16px\"}},\"*\\uBBF8\\uBC18\\uB0A9 \\uC2DC(\",priceInfo&&priceInfo.data.missingTime,\"\\uC2DC\\uAC04) \\uC774\\uD6C4\",\" \",priceInfo&&numberWithCommas(priceInfo.data.missingPrice),\"\\uC6D0\\uC758 \\uBD84\\uC2E4\\uBE44\\uC6A9\\uC774 \\uBD80\\uAC00 \\uB418\\uC624\\uB2C8 \\uAF2D \\uBC18\\uB0A9\\uC744 \\uBD80\\uD0C1\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(\"div\",{style:{border:\"1px solid #050505\",marginLeft:\"18px\",marginRight:\"18px\",marginBottom:\"16px\"}}),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"column\",justifyContent:\"space-around\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uB9E4\\uC7A5\\uBA85\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\",id:\"storeName\"},priceInfo&&numberWithCommas(priceInfo.data.discount_price),\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uAE30\\uBCF8 \\uC81C\\uACF5 \\uC2DC\\uAC04 \\uBC0F \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KRㄴ\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\"})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uCD94\\uAC00 \\uC0AC\\uC6A9\\uC2DC\",\" \"),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#EAEBF1\",fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\"},className:\"purchaseDetailLittleText\"},priceInfo&&priceInfo.data.extraTerm,\"\\uBD84/\",priceInfo&&priceInfo.data.extraPrice,\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uACB0\\uC81C\\uC218\\uB2E8\"),/*#__PURE__*/React.createElement(\"p\",{id:\"payment\",style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\"},\"\\uACB0\\uC81C\\uC218\\uB2E8\"))))),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#535362\",marginLeft:\"16px\",marginRight:\"16px\",marginTop:\"32px\",lineHeight:\"20px\",textAlign:\"center\"}},\"\\uBC18\\uD1A0\\uC758\",\" \",/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uC774\\uC6A9\\uC57D\\uAD00\"),\"\\uACFC\",\" \",/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uAC1C\\uC778\\uC815\\uBCF4\\uCC98\\uB9AC\\uBC29\\uCE68\"),\"\\uC5D0 \\uB300\\uD574 \\uB3D9\\uC758\\uD558\\uC2DC\\uBA74 \\uC544\\uB798 \\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\\uB97C \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694\"),/*#__PURE__*/React.createElement(CustomButton,{className:\"purchaseForWebButton\",callback:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var userIsRenting,stationInfo,rent;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")});case 2:userIsRenting=_context6.sent;if(!(userIsRenting.data.code!==200)){_context6.next=6;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn _context6.abrupt(\"return\");case 6:if(!userIsRenting.data.data.bRenting){_context6.next=9;break;}window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");// props.history.push(\"/\");\nreturn _context6.abrupt(\"return\");case 9:_context6.next=11;return axios.post(constants.hosts.banto+\"/banto2/app/store/getStationInfo\",{stationId:sessionStorage.getItem(\"stationId\")});case 11:stationInfo=_context6.sent;if(!(stationInfo.data.code!==200)){_context6.next=15;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn _context6.abrupt(\"return\");case 15:console.log(\"스테이션인포\",stationInfo.data.body);if(!(stationInfo.data.body.workState===2)){_context6.next=19;break;}window.alert(\"모든 배터리가 충전중에 있습니다 기다려 주세요\");return _context6.abrupt(\"return\");case 19:if(!(stationInfo.data.body.workState!==1)){_context6.next=22;break;}window.alert(\"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\");// props.history.push(\"/\");\nreturn _context6.abrupt(\"return\");case 22:_context6.next=24;return axios.post(constants.hosts.banto+\"/banto2/app/rent/requestSimpleRent\",{userId:sessionStorage.getItem(\"userId\"),stationId:sessionStorage.getItem(\"stationId\"),couponId:null});case 24:rent=_context6.sent;console.log(rent);if(!(rent.data.code!==200)){_context6.next=30;break;}alert(rent.data.msg);props.history.push(\"/simple/rentfail\");return _context6.abrupt(\"return\");case 30:props.history.push(\"/simple/renting\");return _context6.abrupt(\"return\");case 32:case\"end\":return _context6.stop();}}},_callee6);}))},\"\\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\"),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"300px\"},className:\"purchaseForWebEmptySpace\"}),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",left:\"16px\",right:\"16px\",bottom:\"50px\"},className:\"purchaseForWebButtonContainer\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,scroll:scroll,\"aria-labelledby\":\"scroll-dialog-title\",\"aria-describedby\":\"scroll-dialog-description\",fullScreen:true},/*#__PURE__*/React.createElement(DialogTitle,{id:\"scroll-dialog-title\"},\"\\uC57D\\uAD00 \\uB0B4\\uC6A9\"),/*#__PURE__*/React.createElement(DialogContent,{style:{height:\"100%\"},dividers:scroll===\"paper\"},/*#__PURE__*/React.createElement(DialogContentText,{style:{width:\"100%\",height:\"100%\"},id:\"scroll-dialog-description\",ref:descriptionElementRef,tabIndex:-1},/*#__PURE__*/React.createElement(\"iframe\",{style:{width:\"100%\",height:\"100%\"},src:policyUrl}))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(CustomButton,{onClick:handleClose,color:\"primary\"},\"\\uD655\\uC778\")))))));}","map":{"version":3,"sources":["/Users/heoseongjae/Documents/작업/banto-web/src/pages/simplePay/SimplePayLogin.js"],"names":["React","useEffect","makeStyles","axios","constants","moment","DesText","CircularProgress","Stack","RefreshIcon","IconButton","Link","CustomButton","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","useSnackbar","Typography","Button","CustomCenterBox","CustomLeftBox","kakaoIcon","KakaoLogin","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","props","classes","useState","stationId","setStationId","bMarketingAgreed","setMarketingAgreed","userId","setUserId","timeStamp","setTimeStamp","bull","bullet","isLoading","setLoading","pageState","login","pay","purchase","page","setPage","data","setData","enqueueSnackbar","checkMobile","varUA","navigator","userAgent","toLowerCase","indexOf","variant","anchorOrigin","vertical","horizontal","TransitionComponent","autoHideDuration","priceInfo","setPriceInfo","policyUrl","setPolicyUrl","open","setOpen","scroll","setScroll","descriptionElementRef","useRef","numberWithCommas","x","String","replace","handleOpen","handleClose","kakaoLoginSuccess","response","accessToken","access_token","post","hosts","banto","accessKey","kakaoInfo","code","window","alert","msg","kakaoPolicy","kakao_account","has_phone_number","phoneNumber","phone_number","kakaoId","id","email","marketingAgreed","allowed_service_terms","length","bMarketingPolicyAgreed","loginWithKakao","sessionStorage","setItem","Date","kakaoLoginFail","err","JSON","stringify","body","height","top","left","transform","descriptionElement","current","focus","getItem","userRentInfo","bRenting","history","push","checkUserPayment","payment","elem","document","getElementById","innerHTML","status","console","log","storeName","storeelem","userPayment","rentInfo","updateUserPolicy","registerKakaoPay","registerKakao","location","search","href","redirectUrl","color","pt","pb","p","alignItems","onClick","fontWeight","borderRadius","boxSizing","paddingRight","paddingTop","fontFamily","fontStyle","fontSize","marginLeft","marginTop","lineHeight","display","flexDirection","justifyContent","marginRight","require","overflow","textAlign","basePrice","marginBottom","missingTime","missingPrice","discount_price","extraTerm","extraPrice","textDecoration","userIsRenting","stationInfo","workState","couponId","rent","right","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport constants from \"../../Constants\";\nimport moment from \"moment\";\nimport DesText from \"./components/DesText\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { Stack } from \"@mui/material\";\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\nimport IconButton from \"@mui/material/IconButton\";\n\n// PURCHASE START\nimport { Link } from \"react-router-dom\";\nimport CustomButton from \"./components/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport Slide from \"@material-ui/core/Slide\";\nimport { useSnackbar } from \"notistack\";\nimport { Typography, Button } from \"@mui/material\";\n\nimport CustomCenterBox from \"../../components/CustomCenterBox\";\nimport CustomLeftBox from \"../../components/CustomLeftBox\";\n\nimport kakaoIcon from \"../../assets/icon/kakao.png\";\nimport KakaoLogin from \"react-kakao-login\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n// PURCHASE END\n\nexport default function App(props) {\n  const classes = useStyles();\n  const [stationId, setStationId] = React.useState(\"\");\n  const [bMarketingAgreed, setMarketingAgreed] = React.useState(false);\n  const [userId, setUserId] = React.useState(\"\");\n  const [timeStamp, setTimeStamp] = React.useState(\"\");\n  const bull = <span className={classes.bullet}>•</span>;\n  const [isLoading, setLoading] = React.useState(false);\n  const pageState = { login: \"LOGIN\", pay: \"PAY\", purchase: \"PURCHASE\" };\n\n  const [page, setPage] = React.useState(pageState.login);\n  const [data, setData] = React.useState(\"\");\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const checkMobile = () => {\n    var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\n\n    if (varUA.indexOf(\"android\") > -1) {\n      //안드로이드\n      return \"android\";\n    } else if (\n      varUA.indexOf(\"iphone\") > -1 ||\n      varUA.indexOf(\"ipad\") > -1 ||\n      varUA.indexOf(\"ipod\") > -1\n    ) {\n      //IOS\n      return \"ios\";\n    } else {\n      //아이폰, 안드로이드 외\n      return \"other\";\n    }\n  };\n\n  // iphone snackbar\n  useEffect(() => {\n    if (checkMobile() == \"ios\") {\n      enqueueSnackbar(\"로그인 후 좌측 상단 ◀︎ Safari 를 클릭해주세요\", {\n        variant: \"info\",\n        anchorOrigin: {\n          vertical: \"top\",\n          horizontal: \"center\",\n        },\n        TransitionComponent: Slide,\n        autoHideDuration: 5000,\n      });\n    }\n  }, []);\n\n  // PURCHASE START\n  const [priceInfo, setPriceInfo] = React.useState(\"\");\n  const [policyUrl, setPolicyUrl] = React.useState(\n    \"https://bantoweb.xyz/policy/service_policy\"\n  );\n  const [open, setOpen] = React.useState(false);\n  const [scroll, setScroll] = React.useState(\"paper\");\n  const descriptionElementRef = React.useRef(null);\n\n  function numberWithCommas(x) {\n    return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const kakaoLoginSuccess = ({ response }) => {\n    (async () => {\n      const accessToken = response.access_token;\n\n      const kakaoInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/getKakaoInfo\",\n        {\n          accessKey: accessToken,\n        }\n      );\n      if (kakaoInfo.data.code !== 200) {\n        window.alert(kakaoInfo.data.msg);\n        return;\n      }\n      const kakaoPolicy = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/getKakaoPolicy\",\n        {\n          accessKey: accessToken,\n        }\n      );\n      if (kakaoPolicy.data.code !== 200) {\n        window.alert(kakaoPolicy.data.msg);\n        return;\n      }\n      if (!kakaoInfo.data.data.kakao_account.has_phone_number) {\n        window.alert(\n          \"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\"\n        );\n        return;\n      }\n      let phoneNumber = kakaoInfo.data.data.kakao_account.phone_number;\n      phoneNumber = phoneNumber.replace(\" \", \"\");\n      phoneNumber = phoneNumber.replace(/-/gi, \"\");\n      const kakaoId = kakaoInfo.data.data.id;\n      const email = kakaoInfo.data.data.kakao_account.email;\n\n      const marketingAgreed =\n        kakaoPolicy.data.data.allowed_service_terms.length;\n      const bMarketingPolicyAgreed = marketingAgreed === 4 ? true : false;\n      setMarketingAgreed(bMarketingPolicyAgreed);\n      const loginWithKakao = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/loginWithKakaoId\",\n        {\n          kakaoId,\n          phoneNumber,\n          email,\n        }\n      );\n      setUserId(loginWithKakao.data.data.userId);\n      sessionStorage.setItem(\"userId\", loginWithKakao.data.data.userId);\n      sessionStorage.setItem(\"isLogin\", String(new Date()));\n      setLoading(false);\n    })();\n  };\n\n  const kakaoLoginFail = (err) => {\n    setLoading(true);\n\n    alert(JSON.stringify(err));\n    setLoading(false);\n\n    window.alert(`${err}`);\n  };\n\n  const body = (\n    <>\n      <div\n        style={{\n          width: \"80%\",\n          height: \"80%\",\n          top: `50%`,\n          left: `50%`,\n          transform: `translate(-50%, -50%)`,\n        }}\n        className={classes.paper}\n      >\n        <h2 id=\"simple-modal-title\">Text in a modal</h2>\n        <p id=\"simple-modal-description\">\n          Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\n        </p>\n        {/* <SimpleModal /> */}\n      </div>\n      <CustomButton\n        style={{ left: \"90%\", transform: `translate( -50%)` }}\n        variant=\"contained\"\n        onClick={handleClose}\n      >\n        취소\n      </CustomButton>\n    </>\n  );\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  React.useEffect(() => {\n    (async () => {\n      if (page !== pageState.purchase) {\n        return;\n      }\n      const userRentInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n        {\n          userId: sessionStorage.getItem(\"userId\"),\n        }\n      );\n\n      if (userRentInfo.data.code !== 200) {\n        window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n        // props.history.push(\"/\");\n        return;\n      }\n      if (userRentInfo.data.data.bRenting) {\n        // window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n        props.history.push(\"/simple/renting\");\n        return;\n      }\n    })();\n  }, [page]);\n\n  React.useEffect(() => {\n    (async () => {\n      if (page !== pageState.purchase) {\n        return;\n      }\n\n      const checkUserPayment = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/checkUserPayment\",\n        {\n          userId: sessionStorage.getItem(\"userId\"),\n        }\n      );\n\n      if (checkUserPayment.data.code !== 200) {\n      }\n      const payment = checkUserPayment.data.data.payment;\n      let elem = document.getElementById(\"payment\");\n      if (payment === \"kakaoPay\") {\n        elem.innerHTML = \"카카오페이\";\n      } else if (payment === \"creditCard\") {\n        elem.innerHTML = \"신용카드\";\n      } else {\n      }\n\n      const priceInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/price/getPriceInfo\",\n        {\n          stationId: sessionStorage.getItem(\"stationId\"),\n        }\n      );\n\n      // console.log(res);\n      if (priceInfo.status !== 200) {\n        console.log(priceInfo.msg);\n      }\n      setPriceInfo(priceInfo.data);\n\n      const storeName = await axios.post(\n        constants.hosts.banto + \"/banto2/app/store/getStoreName\",\n        {\n          stationId: sessionStorage.getItem(\"stationId\"),\n        }\n      );\n      let storeelem = document.getElementById(\"storeName\");\n      if (typeof elem === \"undefined\") {\n        storeelem.innerHTML = \"\";\n        return;\n      }\n    })();\n  }, [page]);\n\n  // PURCHASE END\n\n  // LOGIN\n  // React.useEffect(() => {\n  //   (async () => {\n  //     setLoading(true);\n  //     if (props.location.state !== undefined) {\n  //       setStationId(props.location.state.stationId);\n  //     }\n  //     if (!window.Kakao.isInitialized()) {\n  //       window.Kakao.init(\"86d0fb152d4eb19ea7bb774cd3c7809c\");\n  //     }\n  //     window.Kakao.Auth.createLoginButton({\n  //       container: \"#create-kakao-login-btn\",\n  //       success: async function (authObj) {\n  //         const accessToken = authObj.access_token;\n  //         // setTimeStamp(new Date());\n\n  //         const kakaoInfo = await axios.post(\n  //           constants.hosts.banto + \"/banto2/app/user/getKakaoInfo\",\n  //           {\n  //             accessKey: accessToken,\n  //           }\n  //         );\n  //         if (kakaoInfo.data.code !== 200) {\n  //           window.alert(kakaoInfo.data.msg);\n  //           return;\n  //         }\n  //         const kakaoPolicy = await axios.post(\n  //           constants.hosts.banto + \"/banto2/app/user/getKakaoPolicy\",\n  //           {\n  //             accessKey: accessToken,\n  //           }\n  //         );\n  //         if (kakaoPolicy.data.code !== 200) {\n  //           window.alert(kakaoPolicy.data.msg);\n  //           return;\n  //         }\n  //         if (!kakaoInfo.data.data.kakao_account.has_phone_number) {\n  //           window.alert(\n  //             \"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\"\n  //           );\n  //           return;\n  //           //   window.location.href = \"https://banto.io\";\n  //         }\n  //         let phoneNumber = kakaoInfo.data.data.kakao_account.phone_number;\n  //         // phoneNumber = \"+82 10-9455-2410\";\n  //         phoneNumber = phoneNumber.replace(\" \", \"\");\n  //         phoneNumber = phoneNumber.replace(/-/gi, \"\");\n  //         const kakaoId = kakaoInfo.data.data.id;\n  //         const email = kakaoInfo.data.data.kakao_account.email;\n\n  //         const marketingAgreed =\n  //           kakaoPolicy.data.data.allowed_service_terms.length;\n  //         const bMarketingPolicyAgreed = marketingAgreed === 4 ? true : false;\n  //         setMarketingAgreed(bMarketingPolicyAgreed);\n  //         const loginWithKakao = await axios.post(\n  //           constants.hosts.banto + \"/banto2/app/user/loginWithKakaoId\",\n  //           {\n  //             kakaoId,\n  //             phoneNumber,\n  //             email,\n  //           }\n  //         );\n  //         setUserId(loginWithKakao.data.data.userId);\n  //         sessionStorage.setItem(\"userId\", loginWithKakao.data.data.userId);\n  //         sessionStorage.setItem(\"isLogin\", String(new Date()));\n  //         setLoading(false);\n  //       },\n\n  //       fail: function (err) {\n  //         setLoading(true);\n\n  //         alert(JSON.stringify(err));\n  //         setLoading(false);\n\n  //         window.alert(`${err}`);\n  //       },\n  //     });\n  //   })();\n  // }, []);\n\n  React.useEffect(() => {\n    (async () => {\n      if (userId === \"\") {\n        return;\n      }\n      setLoading(true);\n\n      console.log(\"유저아이디 들어옴\");\n      const userPayment = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/checkUserPayment\",\n        { userId: userId }\n      );\n\n      const rentInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n        {\n          userId: userId,\n        }\n      );\n      const updateUserPolicy = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/updateUserAgreedPolicy\",\n        {\n          userId: userId,\n          bMarketingPolicyAgreed: bMarketingAgreed,\n        }\n      );\n      const payment = userPayment.data.data.payment;\n      const bRenting = rentInfo.data.data.bRenting;\n      setLoading(false);\n      console.log(payment);\n      if (bRenting) {\n        setPage(pageState.purchase);\n        // props.history.push(\"/simple/purchase\");\n      } else if (payment === \"none\") {\n        props.history.push(\"/simple/kakaopay\");\n        // setPage(pageState.pay)\n      } else {\n        setPage(pageState.purchase);\n\n        // props.history.push(\"/simple/purchase\");\n      }\n    })();\n    setLoading(false);\n  }, [userId, timeStamp]);\n\n  // LOGIN END\n  async function registerKakaoPay(userId) {\n    const registerKakao = await axios.post(\n      constants.hosts.banto + \"/banto2/app/user/registerKakaoPay\",\n      {\n        userId: userId,\n      }\n    );\n    setData(registerKakao.data);\n    console.log(\n      String(window.location).search(\"banto.io\") > 0 &&\n        registerKakao.data.code === 200\n    );\n    if (\n      (String(window.location).search(\"banto.io\") > 0 ||\n        String(window.location).search(\"localhost\") > 0) &&\n      registerKakao.data.code === 200\n    ) {\n      setPage(pageState.pay);\n      window.location.href = registerKakao.data.data.redirectUrl;\n    }\n  }\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#0B0B0C\",\n        height: \"100vh\",\n        width: \"100vw\",\n      }}\n    >\n      {page === pageState.login && (\n        <>\n          {isLoading && (\n            <Stack alignItems=\"center\">\n              <CircularProgress\n                sx={{ color: \"white\", backgroundColor: \"white\" }}\n              />\n            </Stack>\n          )}\n\n          <CustomCenterBox sx={{ pt: \"30%\", pb: \"30%\" }}>\n            <CustomCenterBox sx={{ p: 5, alignItems: \"center\" }}>\n              <Typography color=\"white\" fontSize={40} fontWeight={700}>\n                BANTO\n              </Typography>\n            </CustomCenterBox>\n\n            <CustomLeftBox sx={{ p: 5 }}>\n              <Typography color=\"white\">간편 결제를 이용하시려면</Typography>\n              <Typography color=\"white\" fontWeight={500}>\n                <span style={{ color: \"#FFD95A\" }}>카카오 계정 로그인</span>을\n                이용하셔야 합니다.\n              </Typography>\n            </CustomLeftBox>\n\n            <CustomCenterBox>\n              <KakaoLogin\n                token=\"86d0fb152d4eb19ea7bb774cd3c7809c\"\n                onSuccess={kakaoLoginSuccess}\n                onFail={kakaoLoginFail}\n                render={({ onClick }) => {\n                  return (\n                    <Button\n                      sx={{\n                        width: \"90%\",\n                        height: \"50px\",\n                        backgroundColor: \"black\",\n                        color: \"#FFD95A\",\n                        fontWeight: 500,\n                        border: \"2px solid #FFD95A\",\n                        borderRadius: \"15px\",\n                        boxSizing: \"border-box\",\n                      }}\n                      onClick={onClick}\n                    >\n                      <img\n                        src={kakaoIcon}\n                        alt=\"\"\n                        style={{ paddingRight: 10 }}\n                      />\n                      카카오 로그인\n                    </Button>\n                  );\n                }}\n              />\n            </CustomCenterBox>\n          </CustomCenterBox>\n\n          {/* <div style={{ paddingTop: \"30%\" }}>\n              <p\n                style={{\n                  color: \"white\",\n                  fontFamily: \" Montserrat\",\n                  fontStyle: \"normal\",\n                  fontWeight: \"800\",\n                  fontSize: \"40px\",\n                  marginLeft: \"32px\",\n                }}\n              >\n                1 / 2\n              </p>\n              <div\n                style={{\n                  color: \"white\",\n                  marginTop: \"16px\",\n                  marginLeft: \"32px\",\n                  lineHeight: \"27px\",\n                  fontSize: \"18px\",\n                  fontFamily: \"Noto Sans KR\",\n                }}\n              >\n                <p>간편 결제를 이용하시려면</p>\n                <p>\n                  <span style={{ color: \"#FFD95A\" }}>카카오 계정 로그인</span>을\n                  해주세요\n                </p>\n              </div>\n\n              <div\n                style={{\n                  backgroundColor: \"#0B0B0C\",\n                  height: \"80%\",\n                  width: \"100%\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  marginTop: \"52px\",\n                  // justifyContent: \"space-evenly\"\n                }}\n              >\n                <div\n                  style={{ marginTop: \"100px\", marginBottom: \"25px\" }}\n                  id=\"create-kakao-login-btn\"\n                />\n              </div>\n              <div\n                style={{\n                  width: \"100%\",\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <DesText>*로그인이 안될시 아래 리프레시를 눌러주세요</DesText>\n                <IconButton\n                  onClick={() => {\n                    window.location.reload();\n                  }}\n                >\n                  <RefreshIcon\n                    fontSize=\"large\"\n                    style={{\n                      color: \"white\",\n                      // backgroundColor: \"white\"\n                    }}\n                  />\n                </IconButton>\n              </div>\n            </div> */}\n        </>\n      )}\n\n      {/* // LOGIN END\n    // KakaoPay Start */}\n      {page === pageState.pay && (\n        <>\n          <div\n            style={{\n              backgroundColor: \"#0B0B0C\",\n              height: \"100vh\",\n              width: \"100vw\",\n            }}\n          >\n            <div style={{ paddingTop: \"50%\" }}>\n              <p\n                style={{\n                  top: \"50%\",\n                  color: \"white\",\n                  fontFamily: \" Montserrat\",\n                  fontStyle: \"normal\",\n                  fontWeight: \"800\",\n                  fontSize: \"40px\",\n                  marginLeft: \"32px\",\n                }}\n              >\n                2 / 2\n              </p>\n              <div\n                style={{\n                  color: \"white\",\n                  marginTop: \"16px\",\n                  marginLeft: \"32px\",\n                  lineHeight: \"27px\",\n                  fontSize: \"18px\",\n                }}\n              >\n                <p>\n                  <span style={{ color: \"#FFD95A\" }}>카카오페이 등록</span>후\n                </p>\n                <p>보조배터리를 대여할 수 있습니다</p>\n              </div>\n\n              <div\n                style={{\n                  backgroundColor: \"#0B0B0C\",\n                  height: \"80%\",\n                  width: \"100%\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  marginTop: \"52px\",\n                  // justifyContent: \"space-evenly\"\n                }}\n              >\n                <div\n                  style={{\n                    width: \"calc(100% - 32px)\",\n                    height: \"56px\",\n                    borderRadius: \"14px\",\n                    display: \"flex\",\n                    flexDirection: \"rows\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    border: \"2px solid #FFD95A\",\n                    backgroundColor: \"#0B0B0C\",\n                    color: \"#FFD95A\",\n                    marginTop: \"100px\",\n                  }}\n                  onClick={async () => {\n                    await registerKakaoPay(sessionStorage.getItem(\"userId\"));\n                  }}\n                >\n                  <img\n                    style={{\n                      marginRight: \"10px\",\n                    }}\n                    src={require(\"../../assets/img/kakao.png\")}\n                  />\n                  <p style={{ fontSize: \"18px\" }}>카카오페이 등록</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      {/* // KAKAOPAY END\n    // PURCHASE START */}\n      {page === pageState.purchase && (\n        <>\n          <body\n            style={{\n              width: \"100vw\",\n              height: \"100vh\",\n              backgroundColor: \"#0B0B0C\",\n              overflow: \"auto\",\n            }}\n          >\n            <div\n              style={{\n                position: \"flex\",\n                textAlign: \"center\",\n                marginTop: \"64px\",\n              }}\n            >\n              <p\n                style={{\n                  height: \" 64px\",\n                  fontFamily: \"Noto Sans KR\",\n                  fontStyle: \" normal\",\n                  fontWeight: \" bold\",\n                  fontSize: \" 20px\",\n                  lineHeight: \" 30px\",\n                  color: \"#eaebf1\",\n                }}\n              >\n                락해제 금액\n              </p>\n              <p\n                style={{\n                  fontFamily: \"Montserrat\",\n                  fontStyle: \"normal\",\n                  fontWeight: \"bold\",\n                  fontSize: \"50px\",\n                  lineHeight: \"74px\",\n                  color: \"#00e676\",\n                  height: \"74px\",\n                }}\n              >\n                {priceInfo && numberWithCommas(priceInfo.data.basePrice)}원\n              </p>\n            </div>\n\n            <div\n              style={{\n                marginTop: \"56px\",\n                marginLeft: \"16px\",\n                marginRight: \"16px\",\n              }}\n            >\n              <div\n                style={{\n                  background: \"#000000\",\n                  border: \"2px solid #242427\",\n                  boxSizing: \"border-box\",\n                  borderRadius: \"15px\",\n                }}\n              >\n                <div\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"normal\",\n                    fontSize: \"14px\",\n                    lineHeight: \"21px\",\n                    color: \"#c0c1c5\",\n                    marginLeft: \"18px\",\n                    marginTop: \"40px\",\n                  }}\n                >\n                  <p\n                    style={{\n                      fontFamily: \"Noto Sans KR\",\n                      fontStyle: \"normal\",\n                      fontWeight: \"normal\",\n                      fontSize: \"14px\",\n                      lineHeight: \"21px\",\n                      color: \"#c0c1c5\",\n                    }}\n                  >\n                    *최종 결제내역은 보조배터리 반납 후 확인할 수 있습니다.\n                  </p>\n                  <p\n                    style={{\n                      fontFamily: \"Noto Sans KR\",\n                      fontStyle: \"normal\",\n                      fontWeight: \"normal\",\n                      fontSize: \"14px\",\n                      lineHeight: \"21px\",\n                      color: \"#c0c1c5\",\n                      marginTop: \"16px\",\n                      marginBottom: \"50px\",\n                      marginRight: \"16px\",\n                    }}\n                  >\n                    *미반납 시({priceInfo && priceInfo.data.missingTime}\n                    시간) 이후{\" \"}\n                    {priceInfo && numberWithCommas(priceInfo.data.missingPrice)}\n                    원의 분실비용이 부가 되오니 꼭 반납을 부탁드립니다.\n                  </p>\n                </div>\n                <div\n                  style={{\n                    border: \"1px solid #050505\",\n                    marginLeft: \"18px\",\n                    marginRight: \"18px\",\n                    marginBottom: \"16px\",\n                  }}\n                />\n                <div\n                  style={{\n                    display: \"flex\",\n                    marginTop: \"16px\",\n                    marginBottom: \"16px\",\n                    flexDirection: \"column\",\n                    justifyContent: \"space-around\",\n                  }}\n                >\n                  <div\n                    style={{\n                      display: \"flex\",\n                      marginTop: \"16px\",\n                      marginBottom: \"16px\",\n                      flexDirection: \"rows\",\n                      justifyContent: \"space-between\",\n                      marginLeft: \"16px\",\n                      marginRight: \"16px\",\n                      color: \"#c0c1c5\",\n                    }}\n                    className=\"purchaseDetailLittleContainer\"\n                  >\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"normal\",\n                        fontSize: \"14px\",\n                        lineHeight: \"21px\",\n                        color: \"#94949d\",\n                      }}\n                      className=\"purchaseDetailLittleTextTag\"\n                    >\n                      매장명\n                    </p>\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"600\",\n                        fontSize: \"16px\",\n                        lineHeight: \"19px\",\n                        color: \"#EAEBF1\",\n                      }}\n                      className=\"purchaseDetailLittleText\"\n                      id=\"storeName\"\n                    >\n                      {priceInfo &&\n                        numberWithCommas(priceInfo.data.discount_price)}\n                      원\n                    </p>\n                  </div>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      marginTop: \"16px\",\n                      marginBottom: \"16px\",\n                      flexDirection: \"rows\",\n                      justifyContent: \"space-between\",\n                      marginLeft: \"16px\",\n                      marginRight: \"16px\",\n                      color: \"#c0c1c5\",\n                    }}\n                    className=\"purchaseDetailLittleContainer\"\n                  >\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"normal\",\n                        fontSize: \"14px\",\n                        lineHeight: \"21px\",\n                        color: \"#94949d\",\n                      }}\n                      className=\"purchaseDetailLittleTextTag\"\n                    >\n                      기본 제공 시간 및 금액\n                    </p>\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KRㄴ\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"600\",\n                        fontSize: \"16px\",\n                        lineHeight: \"19px\",\n                        color: \"#EAEBF1\",\n                      }}\n                      className=\"purchaseDetailLittleText\"\n                    >\n                      {/* {priceInfo && priceInfo.data.baseTime}시간/{\"\"}\n                    {priceInfo && numberWithCommas(priceInfo.data.basePrice)}원 */}\n                    </p>\n                  </div>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      marginTop: \"16px\",\n                      marginBottom: \"16px\",\n                      flexDirection: \"rows\",\n                      justifyContent: \"space-between\",\n                      marginLeft: \"16px\",\n                      marginRight: \"16px\",\n                      color: \"#c0c1c5\",\n                    }}\n                    className=\"purchaseDetailLittleContainer\"\n                  >\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"normal\",\n                        fontSize: \"14px\",\n                        lineHeight: \"21px\",\n                        color: \"#94949d\",\n                      }}\n                      className=\"purchaseDetailLittleTextTag\"\n                    >\n                      추가 사용시{\" \"}\n                    </p>\n                    <p\n                      style={{\n                        color: \"#EAEBF1\",\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"600\",\n                        fontSize: \"16px\",\n                        lineHeight: \"19px\",\n                      }}\n                      className=\"purchaseDetailLittleText\"\n                    >\n                      {priceInfo && priceInfo.data.extraTerm}분/\n                      {priceInfo && priceInfo.data.extraPrice}원\n                    </p>\n                  </div>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      marginTop: \"16px\",\n                      marginBottom: \"16px\",\n                      flexDirection: \"rows\",\n                      justifyContent: \"space-between\",\n                      marginLeft: \"16px\",\n                      marginRight: \"16px\",\n                      color: \"#c0c1c5\",\n                    }}\n                    className=\"purchaseDetailLittleContainer\"\n                  >\n                    <p\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"normal\",\n                        fontSize: \"14px\",\n                        lineHeight: \"21px\",\n                        color: \"#94949d\",\n                      }}\n                      className=\"purchaseDetailLittleTextTag\"\n                    >\n                      결제수단\n                    </p>\n                    <p\n                      id=\"payment\"\n                      style={{\n                        fontFamily: \"Noto Sans KR\",\n                        fontStyle: \"normal\",\n                        fontWeight: \"600\",\n                        fontSize: \"16px\",\n                        lineHeight: \"19px\",\n                        color: \"#EAEBF1\",\n                      }}\n                      className=\"purchaseDetailLittleText\"\n                    >\n                      결제수단\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <p\n              style={{\n                color: \"#535362\",\n                marginLeft: \"16px\",\n                marginRight: \"16px\",\n                marginTop: \"32px\",\n                lineHeight: \"20px\",\n                textAlign: \"center\",\n              }}\n            >\n              반토의{\" \"}\n              <Link\n                onClick={() => {\n                  setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");\n                  handleOpen();\n                }}\n                style={{\n                  textDecoration: \"underline\",\n                  lineHeight: \"20px\",\n                  color: \"#535362\",\n                }}\n              >\n                이용약관\n              </Link>\n              과{\" \"}\n              <Link\n                onClick={() => {\n                  setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");\n                  handleOpen();\n                }}\n                style={{\n                  textDecoration: \"underline\",\n                  lineHeight: \"20px\",\n                  color: \"#535362\",\n                }}\n              >\n                개인정보처리방침\n              </Link>\n              에 대해 동의하시면 아래 동의 후 대여하기를 눌러주세요\n            </p>\n\n            <CustomButton\n              className=\"purchaseForWebButton\"\n              callback={async () => {\n                // console.log(\"stationId\", stationId);\n                const userIsRenting = await axios.post(\n                  constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n                  {\n                    userId: sessionStorage.getItem(\"userId\"),\n                  }\n                );\n                if (userIsRenting.data.code !== 200) {\n                  window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                  // props.history.push(\"/\");\n                  return;\n                }\n                if (userIsRenting.data.data.bRenting) {\n                  window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n                  // props.history.push(\"/\");\n                  return;\n                }\n                const stationInfo = await axios.post(\n                  constants.hosts.banto + \"/banto2/app/store/getStationInfo\",\n                  {\n                    stationId: sessionStorage.getItem(\"stationId\"),\n                  }\n                );\n\n                if (stationInfo.data.code !== 200) {\n                  window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                  // props.history.push(\"/\");\n                  return;\n                }\n                console.log(\"스테이션인포\", stationInfo.data.body);\n                if (stationInfo.data.body.workState === 2) {\n                  window.alert(\"모든 배터리가 충전중에 있습니다 기다려 주세요\");\n                  return;\n                }\n\n                if (stationInfo.data.body.workState !== 1) {\n                  window.alert(\n                    \"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\"\n                  );\n                  // props.history.push(\"/\");\n                  return;\n                }\n                const rent = await axios.post(\n                  constants.hosts.banto + \"/banto2/app/rent/requestSimpleRent\",\n                  {\n                    userId: sessionStorage.getItem(\"userId\"),\n                    stationId: sessionStorage.getItem(\"stationId\"),\n                    couponId: null,\n                  }\n                );\n\n                console.log(rent);\n\n                if (rent.data.code !== 200) {\n                  alert(rent.data.msg);\n                  props.history.push(\"/simple/rentfail\");\n                  return;\n                }\n                props.history.push(\"/simple/renting\");\n                return;\n              }}\n            >\n              동의 후 대여하기\n              {/* test rent battery */}\n            </CustomButton>\n\n            <div\n              style={{\n                width: \"100%\",\n                height: \"300px\",\n              }}\n              className=\"purchaseForWebEmptySpace\"\n            />\n            <div\n              style={{\n                position: \"fixed\",\n                left: \"16px\",\n                right: \"16px\",\n                bottom: \"50px\",\n              }}\n              className=\"purchaseForWebButtonContainer\"\n            ></div>\n            <div>\n              <Dialog\n                open={open}\n                onClose={handleClose}\n                scroll={scroll}\n                aria-labelledby=\"scroll-dialog-title\"\n                aria-describedby=\"scroll-dialog-description\"\n                fullScreen\n              >\n                <DialogTitle id=\"scroll-dialog-title\">약관 내용</DialogTitle>\n                <DialogContent\n                  style={{ height: \"100%\" }}\n                  dividers={scroll === \"paper\"}\n                >\n                  <DialogContentText\n                    style={{ width: \"100%\", height: \"100%\" }}\n                    id=\"scroll-dialog-description\"\n                    ref={descriptionElementRef}\n                    tabIndex={-1}\n                  >\n                    {\n                      <iframe\n                        style={{ width: \"100%\", height: \"100%\" }}\n                        src={policyUrl}\n                      />\n                    }\n                  </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                  <CustomButton onClick={handleClose} color=\"primary\">\n                    확인\n                  </CustomButton>\n                </DialogActions>\n              </Dialog>\n            </div>\n          </body>\n        </>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}