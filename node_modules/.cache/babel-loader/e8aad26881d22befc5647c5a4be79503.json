{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mailer = void 0;\n\nvar nodemailer_1 = require(\"nodemailer\");\n\nvar server_1 = require(\"react-dom/server\");\n\nvar renderBody = function renderBody(body) {\n  return \"<!DOCTYPE html>\".concat((0, server_1.renderToStaticMarkup)(body));\n};\n\nvar createTransporter = function createTransporter(_ref) {\n  var transport = _ref.transport,\n      defaults = _ref.defaults;\n\n  if ('sendMail' in transport) {\n    return transport;\n  }\n\n  return (0, nodemailer_1.createTransport)(transport, defaults);\n};\n\nvar Mailer = function Mailer(config, emails) {\n  var transporter = createTransporter(config);\n  /**\n   * Use the `send` method to send your emails\n   *\n   * @param {string} template Your email template name: key of the email in the record you've provided.\n   * @param {Object} props The props of your email component\n   * @param {Object} options The options of email (to, from, attachments, etc.)\n   * @return Promise\n   */\n\n  var sendEmail = function sendEmail(template, props, options) {\n    var _emails$template = emails[template](props),\n        subject = _emails$template.subject,\n        body = _emails$template.body;\n\n    return transporter.sendMail(Object.assign({\n      subject: subject,\n      html: renderBody(body)\n    }, options));\n  };\n\n  return {\n    send: sendEmail\n  };\n};\n\nexports.Mailer = Mailer;\nexports.default = exports.Mailer;","map":{"version":3,"sources":["/Users/heoseongjae/Documents/작업/banto-web/node_modules/nodemailer-react/dist/index.js"],"names":["Object","defineProperty","exports","value","Mailer","nodemailer_1","require","server_1","renderBody","body","renderToStaticMarkup","createTransporter","transport","defaults","createTransport","config","emails","transporter","sendEmail","template","props","options","subject","sendMail","assign","html","send","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiB,KAAK,CAAtB;;AACA,IAAMC,YAAY,GAAGC,OAAO,CAAC,YAAD,CAA5B;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,kBAAD,CAAxB;;AACA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,kCAA4B,CAAC,GAAGF,QAAQ,CAACG,oBAAb,EAAmCD,IAAnC,CAA5B;AAAA,CAAnB;;AACA,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB,OAA6B;AAAA,MAA1BC,SAA0B,QAA1BA,SAA0B;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACnD,MAAI,cAAcD,SAAlB,EAA6B;AACzB,WAAOA,SAAP;AACH;;AACD,SAAO,CAAC,GAAGP,YAAY,CAACS,eAAjB,EAAkCF,SAAlC,EAA6CC,QAA7C,CAAP;AACH,CALD;;AAMA,IAAMT,MAAM,GAAG,SAATA,MAAS,CAACW,MAAD,EAASC,MAAT,EAAoB;AAC/B,MAAMC,WAAW,GAAGN,iBAAiB,CAACI,MAAD,CAArC;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AACI,MAAMG,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAWC,KAAX,EAAkBC,OAAlB,EAA8B;AAC5C,2BAA0BL,MAAM,CAACG,QAAD,CAAN,CAAiBC,KAAjB,CAA1B;AAAA,QAAQE,OAAR,oBAAQA,OAAR;AAAA,QAAiBb,IAAjB,oBAAiBA,IAAjB;;AACA,WAAOQ,WAAW,CAACM,QAAZ,CAAqBvB,MAAM,CAACwB,MAAP,CAAc;AAAEF,MAAAA,OAAO,EAAPA,OAAF;AAAWG,MAAAA,IAAI,EAAEjB,UAAU,CAACC,IAAD;AAA3B,KAAd,EAAmDY,OAAnD,CAArB,CAAP;AACH,GAHD;;AAIA,SAAO;AACHK,IAAAA,IAAI,EAAER;AADH,GAAP;AAGH,CAjBD;;AAkBAhB,OAAO,CAACE,MAAR,GAAiBA,MAAjB;AACAF,OAAO,CAACyB,OAAR,GAAkBzB,OAAO,CAACE,MAA1B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mailer = void 0;\nconst nodemailer_1 = require(\"nodemailer\");\nconst server_1 = require(\"react-dom/server\");\nconst renderBody = (body) => `<!DOCTYPE html>${(0, server_1.renderToStaticMarkup)(body)}`;\nconst createTransporter = ({ transport, defaults }) => {\n    if ('sendMail' in transport) {\n        return transport;\n    }\n    return (0, nodemailer_1.createTransport)(transport, defaults);\n};\nconst Mailer = (config, emails) => {\n    const transporter = createTransporter(config);\n    /**\n     * Use the `send` method to send your emails\n     *\n     * @param {string} template Your email template name: key of the email in the record you've provided.\n     * @param {Object} props The props of your email component\n     * @param {Object} options The options of email (to, from, attachments, etc.)\n     * @return Promise\n     */\n    const sendEmail = (template, props, options) => {\n        const { subject, body } = emails[template](props);\n        return transporter.sendMail(Object.assign({ subject, html: renderBody(body) }, options));\n    };\n    return {\n        send: sendEmail,\n    };\n};\nexports.Mailer = Mailer;\nexports.default = exports.Mailer;\n"]},"metadata":{},"sourceType":"script"}