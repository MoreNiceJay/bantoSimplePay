{"ast":null,"code":"import _slicedToArray from \"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/src/components/CardInputForm.js\";\nimport { Stack, TextField, Button } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useState } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport CustomCenterBox from \"./CustomCenterBox\";\nimport { CardForm } from \"react-payment\";\n\nfunction CardInputForm(_ref) {\n  var history = _ref.history;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      number = _useState2[0],\n      setNumber = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      month = _useState6[0],\n      setMonth = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      expiry = _useState8[0],\n      setExpiry = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      cvc = _useState10[0],\n      setCvc = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      focus = _useState12[0],\n      setFocus = _useState12[1];\n\n  var handleCardSubmit = function handleCardSubmit(card) {\n    var number = card.number,\n        exp_month = card.exp_month,\n        exp_year = card.exp_year,\n        cvc = card.cvc,\n        name = card.name,\n        zip = card.zip;\n    card.createToken({\n      number: number,\n      exp_month: exp_month,\n      exp_year: exp_year,\n      cvc: cvc,\n      name: name,\n      address_zip: zip\n    }, function (status, response) {\n      if (response.error) {\n        alert(\"Adding card failed with error: \" + response.error.message);\n      } else {\n        var cardToken = response.id; // send cardToken to server to be saved under the current user\n        // show success message and navigate away from form\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      pt: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    locale: {\n      valid: \"유효기간\"\n    },\n    placeholders: {\n      name: \"별칭\"\n    },\n    number: number,\n    name: name,\n    expiry: expiry,\n    cvc: cvc,\n    focused: focus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      p: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardForm, {\n    onSubmit: handleCardSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CustomCenterBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, \"\\uB4F1\\uB85D\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: function onClick() {\n      history.push(\"/\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"\\uCDE8\\uC18C\")));\n}\n\nexport default CardInputForm;","map":{"version":3,"sources":["/Users/heoseongjae/Documents/작업/banto-web/src/components/CardInputForm.js"],"names":["Stack","TextField","Button","Box","React","useState","Cards","CustomCenterBox","CardForm","CardInputForm","history","number","setNumber","name","setName","month","setMonth","expiry","setExpiry","cvc","setCvc","focus","setFocus","handleCardSubmit","card","exp_month","exp_year","zip","createToken","address_zip","status","response","error","alert","message","cardToken","id","pt","valid","p","push"],"mappings":"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","sourcesContent":["import { Stack, TextField, Button } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useState } from \"react\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport CustomCenterBox from \"./CustomCenterBox\";\nimport { CardForm } from \"react-payment\";\n\nfunction CardInputForm({ history }) {\n  const [number, setNumber] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [month, setMonth] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [cvc, setCvc] = useState(\"\");\n  const [focus, setFocus] = useState(\"\");\n\n  const handleCardSubmit = (card) => {\n    const { number, exp_month, exp_year, cvc, name, zip } = card;\n    card.createToken(\n      {\n        number,\n        exp_month,\n        exp_year,\n        cvc,\n        name,\n        address_zip: zip,\n      },\n      (status, response) => {\n        if (response.error) {\n          alert(\"Adding card failed with error: \" + response.error.message);\n        } else {\n          const cardToken = response.id;\n          // send cardToken to server to be saved under the current user\n          // show success message and navigate away from form\n        }\n      }\n    );\n  };\n\n  return (\n    <>\n      <Box sx={{ pt: 8 }}>\n        <Cards\n          locale={{ valid: \"유효기간\" }}\n          placeholders={{ name: \"별칭\" }}\n          number={number}\n          name={name}\n          expiry={expiry}\n          cvc={cvc}\n          focused={focus}\n        />\n      </Box>\n\n      <Box sx={{ p: 4 }}>\n        {/* <form\n          style={{\n            backgroundColor: \"white\",\n            padding: \"20px\",\n            borderRadius: \"15px\",\n          }}\n        >\n          <Stack spacing={3}>\n            <TextField\n              inputProps={{\n                maxLength: 16,\n              }}\n              type=\"tel\"\n              label=\"카드 번호\"\n              value={number}\n              pattern=\"[0-9]+\"\n              onChange={(e) => {\n                setNumber(e.target.value);\n              }}\n              onFocus={(e) => setFocus(e.target.name)}\n            />\n\n            <TextField\n              inputProps={{\n                maxLength: 4,\n              }}\n              type=\"tel\"\n              label=\"유효기간\"\n              value={expiry}\n              pattern=\"[0-9]+\"\n              placeholder=\"MM/YY\"\n              onChange={(e) => {\n                setExpiry(e.target.value);\n              }}\n              onFocus={(e) => setFocus(e.target.name)}\n            />\n\n            <TextField\n              inputProps={{\n                maxLength: 3,\n              }}\n              type=\"tel\"\n              label=\"CVC\"\n              value={cvc}\n              pattern=\"\\d*\"\n              onChange={(e) => {\n                setCvc(e.target.value);\n              }}\n              onFocus={(e) => setFocus(e.target.name)}\n            />\n\n            <TextField\n              type=\"text\"\n              label=\"별칭\"\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n              onFocus={(e) => setFocus(e.target.name)}\n            />\n          </Stack>\n        </form> */}\n        <CardForm onSubmit={handleCardSubmit} />\n      </Box>\n\n      <CustomCenterBox>\n        <Button variant=\"contained\">등록</Button>\n        <Button\n          variant=\"contained\"\n          onClick={() => {\n            history.push(\"/\");\n          }}\n        >\n          취소\n        </Button>\n      </CustomCenterBox>\n    </>\n  );\n}\n\nexport default CardInputForm;\n"]},"metadata":{},"sourceType":"module"}