{"ast":null,"code":"import _regeneratorRuntime from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Button from\"./components/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import constants from\"../../Constants\";import Typography from\"@material-ui/core/Typography\";import{Link}from\"react-router-dom\";import axios from\"axios\";import Modal from\"@material-ui/core/Modal\";var useStyles=makeStyles(function(theme){return{paper:{position:\"absolute\",width:400,backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});export default function App(props){var classes=useStyles();var _React$useState=React.useState(\"https://bantoweb.xyz/policy/service_policy\"),_React$useState2=_slicedToArray(_React$useState,2),policyUrl=_React$useState2[0],setPolicyUrl=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),stationId=_React$useState4[0],setStationId=_React$useState4[1];var bull=/*#__PURE__*/React.createElement(\"span\",{className:classes.bullet},\"\\u2022\");var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),priceInfo=_React$useState6[0],setPriceInfo=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),open=_React$useState8[0],setOpen=_React$useState8[1];var _React$useState9=React.useState(\"paper\"),_React$useState10=_slicedToArray(_React$useState9,2),scroll=_React$useState10[0],setScroll=_React$useState10[1];var handleOpen=function handleOpen(){setOpen(true);};React.useEffect(function(){// console.log(props.location.state);\nif(props.location.state!==undefined){setStationId(props.location.state.stationId);}},[]);React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userRentInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")});case 2:userRentInfo=_context.sent;if(!(userRentInfo.data.code!==200)){_context.next=6;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn _context.abrupt(\"return\");case 6:if(!userRentInfo.data.data.bRenting){_context.next=9;break;}// window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\nprops.history.push(\"/simple/renting\");return _context.abrupt(\"return\");case 9:case\"end\":return _context.stop();}}},_callee);}))();},[]);var handleClose=function handleClose(){setOpen(false);};var body=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{width:\"80%\",height:\"80%\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},className:classes.paper},/*#__PURE__*/React.createElement(\"h2\",{id:\"simple-modal-title\"},\"Text in a modal\"),/*#__PURE__*/React.createElement(\"p\",{id:\"simple-modal-description\"},\"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\")),/*#__PURE__*/React.createElement(Button,{style:{left:\"90%\",transform:\"translate( -50%)\"},variant:\"contained\",onClick:handleClose},\"\\uCDE8\\uC18C\"));var descriptionElementRef=React.useRef(null);React.useEffect(function(){if(open){var descriptionElement=descriptionElementRef.current;if(descriptionElement!==null){descriptionElement.focus();}}},[open]);function checkMobile(){var varUA=navigator.userAgent.toLowerCase();//userAgent 값 얻기\nif(varUA.indexOf(\"android\")>-1){//안드로이드\nreturn\"android\";}else if(varUA.indexOf(\"iphone\")>-1||varUA.indexOf(\"ipad\")>-1||varUA.indexOf(\"ipod\")>-1){//IOS\nreturn\"ios\";}else{//아이폰, 안드로이드 외\nreturn\"other\";}}function numberWithCommas(x){return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var checkUserPayment,payment,elem,priceInfo,storeName,storeelem;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/user/checkUserPayment\",{userId:sessionStorage.getItem(\"userId\")});case 2:checkUserPayment=_context2.sent;if(checkUserPayment.data.code!==200){}payment=checkUserPayment.data.data.payment;elem=document.getElementById(\"payment\");if(payment===\"kakaoPay\"){elem.innerHTML=\"카카오페이\";}else if(payment===\"creditCard\"){elem.innerHTML=\"신용카드\";}else{}_context2.next=9;return axios.post(constants.hosts.banto+\"/banto2/app/price/getPriceInfo\",{stationId:sessionStorage.getItem(\"stationId\")});case 9:priceInfo=_context2.sent;// console.log(res);\nif(priceInfo.status!==200){console.log(priceInfo.msg);}setPriceInfo(priceInfo.data);_context2.next=14;return axios.post(constants.hosts.banto+\"/banto2/app/store/getStoreName\",{// stationId: sessionStorage.getItem(\"stationId\")\nstationId:sessionStorage.getItem(\"stationId\")});case 14:storeName=_context2.sent;// if (value.data.code !== 200) {\n//   window.alert(value.data.msg);\n//   // props.history.push();\n// }\nstoreelem=document.getElementById(\"storeName\");if(!(typeof elem===\"undefined\")){_context2.next=19;break;}storeelem.innerHTML=\"\";return _context2.abrupt(\"return\");case 19:storeelem.innerHTML=storeName.data.data.storeName;case 20:case\"end\":return _context2.stop();}}},_callee2);}))();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"head\",null),/*#__PURE__*/React.createElement(\"body\",{style:{width:\"100vw\",height:\"100vh\",backgroundColor:\"#0B0B0C\",overflow:\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{style:{position:\"flex\",textAlign:\"center\",marginTop:\"64px\"}},/*#__PURE__*/React.createElement(\"p\",{style:{height:\" 64px\",fontFamily:\"Noto Sans KR\",fontStyle:\" normal\",fontWeight:\" bold\",fontSize:\" 20px\",lineHeight:\" 30px\",color:\"#eaebf1\"}},\"\\uB77D\\uD574\\uC81C\\uAE08\\uC561\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Montserrat\",fontStyle:\"normal\",fontWeight:\"bold\",fontSize:\"50px\",lineHeight:\"74px\",color:\"#00e676\",height:\"74px\"}},priceInfo&&numberWithCommas(priceInfo.data.basePrice),\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"56px\",marginLeft:\"16px\",marginRight:\"16px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{background:\"#000000\",border:\"2px solid #242427\",boxSizing:\"border-box\",borderRadius:\"15px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\",marginLeft:\"18px\",marginTop:\"40px\"}},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\"}},\"*\\uCD5C\\uC885 \\uACB0\\uC81C\\uB0B4\\uC5ED\\uC740 \\uBCF4\\uC870\\uBC30\\uD130\\uB9AC \\uBC18\\uB0A9 \\uD6C4 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#c0c1c5\",marginTop:\"16px\",marginBottom:\"50px\",marginRight:\"16px\"}},\"*\\uBBF8\\uBC18\\uB0A9 \\uC2DC(\",priceInfo&&priceInfo.data.missingTime,\"\\uC2DC\\uAC04) \\uC774\\uD6C4\",\" \",priceInfo&&numberWithCommas(priceInfo.data.missingPrice),\"\\uC6D0\\uC758 \\uBD84\\uC2E4\\uBE44\\uC6A9\\uC774 \\uBD80\\uAC00 \\uB418\\uC624\\uB2C8 \\uAF2D \\uBC18\\uB0A9\\uC744 \\uBD80\\uD0C1\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(\"div\",{style:{border:\"1px solid #050505\",marginLeft:\"18px\",marginRight:\"18px\",marginBottom:\"16px\"}}),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"column\",justifyContent:\"space-around\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uB9E4\\uC7A5\\uBA85\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\",id:\"storeName\"},priceInfo&&numberWithCommas(priceInfo.data.discount_price),\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uAE30\\uBCF8 \\uC81C\\uACF5 \\uC2DC\\uAC04 \\uBC0F \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KRㄴ\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\"})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uCD94\\uAC00 \\uC0AC\\uC6A9\\uC2DC\",\" \"),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#EAEBF1\",fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\"},className:\"purchaseDetailLittleText\"},priceInfo&&priceInfo.data.extraTerm,\"\\uBD84/\",priceInfo&&priceInfo.data.extraPrice,\"\\uC6D0\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginTop:\"16px\",marginBottom:\"16px\",flexDirection:\"rows\",justifyContent:\"space-between\",marginLeft:\"16px\",marginRight:\"16px\",color:\"#c0c1c5\"},className:\"purchaseDetailLittleContainer\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"21px\",color:\"#94949d\"},className:\"purchaseDetailLittleTextTag\"},\"\\uACB0\\uC81C\\uC218\\uB2E8\"),/*#__PURE__*/React.createElement(\"p\",{id:\"payment\",style:{fontFamily:\"Noto Sans KR\",fontStyle:\"normal\",fontWeight:\"600\",fontSize:\"16px\",lineHeight:\"19px\",color:\"#EAEBF1\"},className:\"purchaseDetailLittleText\"},\"\\uACB0\\uC81C\\uC218\\uB2E8\"))))),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#535362\",marginLeft:\"16px\",marginRight:\"16px\",marginTop:\"32px\",lineHeight:\"20px\",textAlign:\"center\"}},\"\\uBC18\\uD1A0\\uC758\",\" \",/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uC774\\uC6A9\\uC57D\\uAD00\"),\"\\uACFC\",\" \",/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uAC1C\\uC778\\uC815\\uBCF4\\uCC98\\uB9AC\\uBC29\\uCE68\"),\"\\uC5D0 \\uB300\\uD574 \\uB3D9\\uC758\\uD558\\uC2DC\\uBA74 \\uC544\\uB798 \\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\\uB97C \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694\"),/*#__PURE__*/React.createElement(Button// disabled=\"true\"\n// style={{\n//   width: \"100%\",\n//   height: \"66px\",\n//   width: \"calc(100% - 32px)\",\n//   background: \"#EAEBF1\",\n//   borderRadius: \"15px\",\n//   border: \"none\",\n//   fontFamily: \"Noto Sans KR\",\n//   fontStyle: \"normal\",\n//   fontWeight: \"500\",\n//   fontSize: \"18px\",\n//   lineHeight: \"27px\",\n//   marginTop: \"40px\",\n//   marginLeft: \"16px\",\n//   marginRight: \"16px\"\n// }}\n,{className:\"purchaseForWebButton\",callback:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// console.log(\"stationId\", stationId);\naxios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")}).then(function(res){if(res.data.code!==200){window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn;}if(res.data.data.bRenting){// window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n// props.history.push(\"/\");\nreturn;}axios.post(constants.hosts.banto+\"/banto2/app/store/getStationInfo\",{stationId:sessionStorage.getItem(\"stationId\")}).then(function(res){if(res.data.code!==200){// window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n// props.history.push(\"/\");\nreturn;}if(!res.data.data.online){window.alert(\"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\");// props.history.push(\"/\");\nreturn;}axios.post(constants.hosts.banto+\"/banto2/app/rent/requestSimpleRent\",{userId:sessionStorage.getItem(\"userId\"),stationId:sessionStorage.getItem(\"stationId\"),couponId:null});}).then(function(res){if(res.data.code!==200){alert(res.data.msg+\" \"+\"결제된 금액이 지금 환불됩니다.\");props.history.push(\"/simple/rentfail\");return;}console.log(\"대여완료 res\",res);props.history.push(\"/simple/rentcomplete\");return;});});_context3.next=3;return axios.post(constants.hosts.banto+\"/banto2/app/rent/requestSimpleRent\",{userId:sessionStorage.getItem(\"userId\"),// userId: \"abc\",\nstationId:sessionStorage.getItem(\"stationId\"),couponId:null});case 3:result=_context3.sent;if(!(result.data.code!==200)){_context3.next=7;break;}alert(result.data.msg+\" \"+\"결제된 금액이 지금 환불 됩니다\");return _context3.abrupt(\"return\");case 7:props.history.push(\"/simple/renting\");case 8:case\"end\":return _context3.stop();}}},_callee3);}))},\"\\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\"),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"300px\"},className:\"purchaseForWebEmptySpace\"}),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",left:\"16px\",right:\"16px\",bottom:\"50px\"},className:\"purchaseForWebButtonContainer\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,scroll:scroll,\"aria-labelledby\":\"scroll-dialog-title\",\"aria-describedby\":\"scroll-dialog-description\",fullScreen:true},/*#__PURE__*/React.createElement(DialogTitle,{id:\"scroll-dialog-title\"},\"\\uC57D\\uAD00 \\uB0B4\\uC6A9\"),/*#__PURE__*/React.createElement(DialogContent,{style:{height:\"100%\"},dividers:scroll===\"paper\"},/*#__PURE__*/React.createElement(DialogContentText,{style:{width:\"100%\",height:\"100%\"},id:\"scroll-dialog-description\",ref:descriptionElementRef,tabIndex:-1},/*#__PURE__*/React.createElement(\"iframe\",{style:{width:\"100%\",height:\"100%\"},src:policyUrl}))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"primary\"},\"\\uD655\\uC778\"))))));}","map":{"version":3,"sources":["/Users/heoseongjae/Documents/작업/banto-web/src/pages/simplePay/SimplePayPurchase.js"],"names":["React","makeStyles","Paper","Card","CardActions","CardContent","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","constants","Typography","Link","axios","Modal","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","props","classes","useState","policyUrl","setPolicyUrl","stationId","setStationId","bull","bullet","priceInfo","setPriceInfo","open","setOpen","scroll","setScroll","handleOpen","useEffect","location","state","undefined","post","hosts","banto","userId","sessionStorage","getItem","userRentInfo","data","code","window","alert","bRenting","history","push","handleClose","body","height","top","left","transform","descriptionElementRef","useRef","descriptionElement","current","focus","checkMobile","varUA","navigator","userAgent","toLowerCase","indexOf","numberWithCommas","x","String","replace","checkUserPayment","payment","elem","document","getElementById","innerHTML","status","console","log","msg","storeName","storeelem","overflow","textAlign","marginTop","fontFamily","fontStyle","fontWeight","fontSize","lineHeight","color","basePrice","marginLeft","marginRight","boxSizing","borderRadius","marginBottom","missingTime","missingPrice","display","flexDirection","justifyContent","discount_price","extraTerm","extraPrice","textDecoration","then","res","online","couponId","result","right","bottom"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"./components/Button\"\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport constants from \"../../Constants\"\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Modal from \"@material-ui/core/Modal\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\nexport default function App(props) {\n  const classes = useStyles();\n  const [policyUrl, setPolicyUrl] = React.useState(\n    \"https://bantoweb.xyz/policy/service_policy\"\n  );\n  const [stationId, setStationId] = React.useState(\"\");\n  const bull = <span className={classes.bullet}>•</span>;\n  const [priceInfo, setPriceInfo] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [scroll, setScroll] = React.useState(\"paper\");\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  React.useEffect(() => {\n    // console.log(props.location.state);\n    if (props.location.state !== undefined) {\n      setStationId(props.location.state.stationId);\n    }\n\n  }, []);\n  React.useEffect(() => {\n    (async () => {\n      const userRentInfo = await axios\n        .post(constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\", {\n          userId: sessionStorage.getItem(\"userId\")\n        })\n\n      if (userRentInfo.data.code !== 200) {\n        window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n        // props.history.push(\"/\");\n        return;\n      }\n      if (userRentInfo.data.data.bRenting) {\n        // window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n        props.history.push(\"/simple/renting\");\n        return;\n      }\n    })()\n\n  }, [])\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const body = (\n    <>\n      <div\n        style={{\n          width: \"80%\",\n          height: \"80%\",\n          top: `50%`,\n          left: `50%`,\n          transform: `translate(-50%, -50%)`\n        }}\n        className={classes.paper}\n      >\n        <h2 id=\"simple-modal-title\">Text in a modal</h2>\n        <p id=\"simple-modal-description\">\n          Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\n        </p>\n        {/* <SimpleModal /> */}\n      </div>\n      <Button\n        style={{ left: \"90%\", transform: `translate( -50%)` }}\n        variant=\"contained\"\n        onClick={handleClose}\n      >\n        취소\n      </Button>\n    </>\n  );\n\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n  function checkMobile() {\n    var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\n\n    if (varUA.indexOf(\"android\") > -1) {\n      //안드로이드\n      return \"android\";\n    } else if (\n      varUA.indexOf(\"iphone\") > -1 ||\n      varUA.indexOf(\"ipad\") > -1 ||\n      varUA.indexOf(\"ipod\") > -1\n    ) {\n      //IOS\n      return \"ios\";\n    } else {\n      //아이폰, 안드로이드 외\n      return \"other\";\n    }\n  }\n  function numberWithCommas(x) {\n    return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  React.useEffect(() => {\n    (async () => {\n\n      const checkUserPayment = await axios\n        .post(constants.hosts.banto + \"/banto2/app/user/checkUserPayment\", {\n          userId: sessionStorage.getItem(\"userId\")\n        })\n\n      if (checkUserPayment.data.code !== 200) {\n      }\n      const payment = checkUserPayment.data.data.payment;\n      let elem = document.getElementById(\"payment\");\n      if (payment === \"kakaoPay\") {\n        elem.innerHTML = \"카카오페이\";\n      } else if (payment === \"creditCard\") {\n        elem.innerHTML = \"신용카드\";\n      } else {\n      }\n\n      const priceInfo = await axios\n        .post(constants.hosts.banto +\n          \"/banto2/app/price/getPriceInfo\", {\n          stationId: sessionStorage.getItem(\"stationId\")\n        })\n\n      // console.log(res);\n      if (priceInfo.status !== 200) {\n        console.log(priceInfo.msg);\n      }\n      setPriceInfo(priceInfo.data);\n\n      const storeName = await axios\n        .post(constants.hosts.banto + \"/banto2/app/store/getStoreName\", {\n          // stationId: sessionStorage.getItem(\"stationId\")\n          stationId: sessionStorage.getItem(\"stationId\")\n        })\n      // if (value.data.code !== 200) {\n      //   window.alert(value.data.msg);\n      //   // props.history.push();\n      // }\n      let storeelem = document.getElementById(\"storeName\");\n      if (typeof elem === \"undefined\") {\n        storeelem.innerHTML = \"\"\n        return\n      }\n      storeelem.innerHTML = storeName.data.data.storeName;\n\n    })()\n\n  }, []);\n  return (\n    <>\n      <head></head>\n      <body\n        style={{\n          width: \"100vw\",\n          height: \"100vh\",\n          backgroundColor: \"#0B0B0C\",\n          overflow: \"auto\"\n        }}\n      >\n        <div\n          style={{ position: \"flex\", textAlign: \"center\", marginTop: \"64px\" }}\n        >\n          <p\n            style={{\n              height: \" 64px\",\n              fontFamily: \"Noto Sans KR\",\n              fontStyle: \" normal\",\n              fontWeight: \" bold\",\n              fontSize: \" 20px\",\n              lineHeight: \" 30px\",\n              color: \"#eaebf1\"\n            }}\n          >\n            락해제금액\n          </p>\n          <p\n            style={{\n              fontFamily: \"Montserrat\",\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              fontSize: \"50px\",\n              lineHeight: \"74px\",\n              color: \"#00e676\",\n              height: \"74px\"\n            }}\n          >\n            {priceInfo && numberWithCommas(priceInfo.data.basePrice)}원\n          </p>\n        </div>\n\n        <div\n          style={{ marginTop: \"56px\", marginLeft: \"16px\", marginRight: \"16px\" }}\n        >\n          <div\n            style={{\n              background: \"#000000\",\n              border: \"2px solid #242427\",\n              boxSizing: \"border-box\",\n              borderRadius: \"15px\"\n            }}\n          >\n            <div\n              style={{\n                fontFamily: \"Noto Sans KR\",\n                fontStyle: \"normal\",\n                fontWeight: \"normal\",\n                fontSize: \"14px\",\n                lineHeight: \"21px\",\n                color: \"#c0c1c5\",\n                marginLeft: \"18px\",\n                marginTop: \"40px\"\n              }}\n            >\n              <p\n                style={{\n                  fontFamily: \"Noto Sans KR\",\n                  fontStyle: \"normal\",\n                  fontWeight: \"normal\",\n                  fontSize: \"14px\",\n                  lineHeight: \"21px\",\n                  color: \"#c0c1c5\"\n                }}\n              >\n                *최종 결제내역은 보조배터리 반납 후 확인할 수 있습니다.\n              </p>\n              <p\n                style={{\n                  fontFamily: \"Noto Sans KR\",\n                  fontStyle: \"normal\",\n                  fontWeight: \"normal\",\n                  fontSize: \"14px\",\n                  lineHeight: \"21px\",\n                  color: \"#c0c1c5\",\n                  marginTop: \"16px\",\n                  marginBottom: \"50px\",\n                  marginRight: \"16px\"\n                }}\n              >\n                *미반납 시({priceInfo && priceInfo.data.missingTime}\n                시간) 이후{\" \"}\n                {priceInfo && numberWithCommas(priceInfo.data.missingPrice)}원의\n                분실비용이 부가 되오니 꼭 반납을 부탁드립니다.\n              </p>\n            </div>\n            <div\n              style={{\n                border: \"1px solid #050505\",\n                marginLeft: \"18px\",\n                marginRight: \"18px\",\n                marginBottom: \"16px\"\n              }}\n            />\n            <div\n              style={{\n                display: \"flex\",\n                marginTop: \"16px\",\n                marginBottom: \"16px\",\n                flexDirection: \"column\",\n                justifyContent: \"space-around\"\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  marginTop: \"16px\",\n                  marginBottom: \"16px\",\n                  flexDirection: \"rows\",\n                  justifyContent: \"space-between\",\n                  marginLeft: \"16px\",\n                  marginRight: \"16px\",\n                  color: \"#c0c1c5\"\n                }}\n                className=\"purchaseDetailLittleContainer\"\n              >\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"normal\",\n                    fontSize: \"14px\",\n                    lineHeight: \"21px\",\n                    color: \"#94949d\"\n                  }}\n                  className=\"purchaseDetailLittleTextTag\"\n                >\n                  매장명\n                </p>\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"600\",\n                    fontSize: \"16px\",\n                    lineHeight: \"19px\",\n                    color: \"#EAEBF1\"\n                  }}\n                  className=\"purchaseDetailLittleText\"\n                  id=\"storeName\"\n                >\n                  {priceInfo && numberWithCommas(priceInfo.data.discount_price)}\n                  원\n                </p>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  marginTop: \"16px\",\n                  marginBottom: \"16px\",\n                  flexDirection: \"rows\",\n                  justifyContent: \"space-between\",\n                  marginLeft: \"16px\",\n                  marginRight: \"16px\",\n                  color: \"#c0c1c5\"\n                }}\n                className=\"purchaseDetailLittleContainer\"\n              >\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"normal\",\n                    fontSize: \"14px\",\n                    lineHeight: \"21px\",\n                    color: \"#94949d\"\n                  }}\n                  className=\"purchaseDetailLittleTextTag\"\n                >\n                  기본 제공 시간 및 금액\n                </p>\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KRㄴ\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"600\",\n                    fontSize: \"16px\",\n                    lineHeight: \"19px\",\n                    color: \"#EAEBF1\"\n                  }}\n                  className=\"purchaseDetailLittleText\"\n                >\n                  {/* {priceInfo && priceInfo.data.baseTime}시간/{\"\"}\n                  {priceInfo && numberWithCommas(priceInfo.data.basePrice)}원 */}\n                </p>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  marginTop: \"16px\",\n                  marginBottom: \"16px\",\n                  flexDirection: \"rows\",\n                  justifyContent: \"space-between\",\n                  marginLeft: \"16px\",\n                  marginRight: \"16px\",\n                  color: \"#c0c1c5\"\n                }}\n                className=\"purchaseDetailLittleContainer\"\n              >\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"normal\",\n                    fontSize: \"14px\",\n                    lineHeight: \"21px\",\n                    color: \"#94949d\"\n                  }}\n                  className=\"purchaseDetailLittleTextTag\"\n                >\n                  추가 사용시{\" \"}\n                </p>\n                <p\n                  style={{\n                    color: \"#EAEBF1\",\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"600\",\n                    fontSize: \"16px\",\n                    lineHeight: \"19px\"\n                  }}\n                  className=\"purchaseDetailLittleText\"\n                >\n                  {priceInfo && priceInfo.data.extraTerm}분/\n                  {priceInfo && priceInfo.data.extraPrice}원\n                </p>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  marginTop: \"16px\",\n                  marginBottom: \"16px\",\n                  flexDirection: \"rows\",\n                  justifyContent: \"space-between\",\n                  marginLeft: \"16px\",\n                  marginRight: \"16px\",\n                  color: \"#c0c1c5\"\n                }}\n                className=\"purchaseDetailLittleContainer\"\n              >\n                <p\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"normal\",\n                    fontSize: \"14px\",\n                    lineHeight: \"21px\",\n                    color: \"#94949d\"\n                  }}\n                  className=\"purchaseDetailLittleTextTag\"\n                >\n                  결제수단\n                </p>\n                <p\n                  id=\"payment\"\n                  style={{\n                    fontFamily: \"Noto Sans KR\",\n                    fontStyle: \"normal\",\n                    fontWeight: \"600\",\n                    fontSize: \"16px\",\n                    lineHeight: \"19px\",\n                    color: \"#EAEBF1\"\n                  }}\n                  className=\"purchaseDetailLittleText\"\n                >\n                  결제수단\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p\n          style={{\n            color: \"#535362\",\n            marginLeft: \"16px\",\n            marginRight: \"16px\",\n            marginTop: \"32px\",\n            lineHeight: \"20px\",\n            textAlign: \"center\"\n          }}\n        >\n          반토의{\" \"}\n          <Link\n            onClick={() => {\n              setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");\n              handleOpen();\n            }}\n            style={{\n              textDecoration: \"underline\",\n              lineHeight: \"20px\",\n              color: \"#535362\"\n            }}\n          >\n            이용약관\n          </Link>\n          과{\" \"}\n          <Link\n            onClick={() => {\n              setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");\n              handleOpen();\n            }}\n            style={{\n              textDecoration: \"underline\",\n              lineHeight: \"20px\",\n              color: \"#535362\"\n            }}\n          >\n            개인정보처리방침\n          </Link>\n          에 대해 동의하시면 아래 동의 후 대여하기를 눌러주세요\n        </p>\n\n        <Button\n          // disabled=\"true\"\n          // style={{\n          //   width: \"100%\",\n          //   height: \"66px\",\n          //   width: \"calc(100% - 32px)\",\n          //   background: \"#EAEBF1\",\n          //   borderRadius: \"15px\",\n          //   border: \"none\",\n          //   fontFamily: \"Noto Sans KR\",\n          //   fontStyle: \"normal\",\n          //   fontWeight: \"500\",\n          //   fontSize: \"18px\",\n          //   lineHeight: \"27px\",\n          //   marginTop: \"40px\",\n          //   marginLeft: \"16px\",\n          //   marginRight: \"16px\"\n          // }}\n          className=\"purchaseForWebButton\"\n\n          callback={async () => {\n            // console.log(\"stationId\", stationId);\n            axios\n              .post(constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\", {\n                userId: sessionStorage.getItem(\"userId\")\n              })\n              .then((res) => {\n                if (res.data.code !== 200) {\n                  window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                  // props.history.push(\"/\");\n                  return;\n                }\n                if (res.data.data.bRenting) {\n                  // window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n                  // props.history.push(\"/\");\n                  return;\n                }\n                axios\n                  .post(constants.hosts.banto + \"/banto2/app/store/getStationInfo\", {\n                    stationId: sessionStorage.getItem(\"stationId\")\n                  })\n                  .then((res) => {\n                    if (res.data.code !== 200) {\n                      // window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                      // props.history.push(\"/\");\n                      return;\n                    }\n                    if (!res.data.data.online) {\n                      window.alert(\n                        \"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\"\n                      );\n                      // props.history.push(\"/\");\n                      return;\n                    }\n                    axios.post(\n                      constants.hosts.banto + \"/banto2/app/rent/requestSimpleRent\",\n                      {\n                        userId: sessionStorage.getItem(\"userId\"),\n                        stationId: sessionStorage.getItem(\"stationId\"),\n                        couponId: null\n                      }\n                    );\n                  })\n                  .then((res) => {\n                    if (res.data.code !== 200) {\n                      alert(res.data.msg + \" \" + \"결제된 금액이 지금 환불됩니다.\");\n                      props.history.push(\"/simple/rentfail\");\n                      return;\n                    }\n                    console.log(\"대여완료 res\", res);\n                    props.history.push(\"/simple/rentcomplete\");\n                    return\n                  });\n              });\n\n            const result = await axios.post(\n              constants.hosts.banto + \"/banto2/app/rent/requestSimpleRent\",\n              {\n                userId: sessionStorage.getItem(\"userId\"),\n                // userId: \"abc\",\n                stationId: sessionStorage.getItem(\"stationId\"),\n                couponId: null\n              }\n            );\n\n            // console.log(result);\n\n            if (result.data.code !== 200) {\n              alert(result.data.msg + \" \" + \"결제된 금액이 지금 환불 됩니다\")\n              return\n            }\n            props.history.push(\"/simple/renting\");\n\n          }}\n        >\n          동의 후 대여하기\n          {/* test rent battery */}\n        </Button>\n        <div\n          style={{\n            width: \"100%\",\n            height: \"300px\"\n          }}\n          className=\"purchaseForWebEmptySpace\"\n        />\n        <div\n          style={{\n            position: \"fixed\",\n            left: \"16px\",\n            right: \"16px\",\n            bottom: \"50px\"\n          }}\n          className=\"purchaseForWebButtonContainer\"\n        ></div>\n        <div>\n          <Dialog\n            open={open}\n            onClose={handleClose}\n            scroll={scroll}\n            aria-labelledby=\"scroll-dialog-title\"\n            aria-describedby=\"scroll-dialog-description\"\n            fullScreen\n          >\n            <DialogTitle id=\"scroll-dialog-title\">약관 내용</DialogTitle>\n            <DialogContent\n              style={{ height: \"100%\" }}\n              dividers={scroll === \"paper\"}\n            >\n              <DialogContentText\n                style={{ width: \"100%\", height: \"100%\" }}\n                id=\"scroll-dialog-description\"\n                ref={descriptionElementRef}\n                tabIndex={-1}\n              >\n                {\n                  <iframe\n                    style={{ width: \"100%\", height: \"100%\" }}\n                    src={policyUrl}\n                  />\n                }\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                확인\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      </body>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}