{"ast":null,"code":"import _regeneratorRuntime from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/heoseongjae/Documents/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/banto-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{forwardRef,useEffect,useState}from\"react\";import axios from\"axios\";import constants from\"../../Constants\";import CircularProgress from\"@mui/material/CircularProgress\";import{Typography,Button,Slide,Stack,Link}from\"@mui/material\";import BantoLogo from\"../../assets/icon/banto_text_logo.png\";// PURCHASE START\n// import { Link } from \"react-router-dom\";\nimport CustomButton from\"./components/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import{useSnackbar}from\"notistack\";import CreditCardIcon from\"@mui/icons-material/CreditCard\";import CustomCenterBox from\"../../components/CustomCenterBox\";import CustomLeftBox from\"../../components/CustomLeftBox\";import CardInputForm from\"../../components/CardInputForm\";import kakaoIcon from\"../../assets/icon/kakao.png\";import kakaopayIcon from\"../../assets/icon/kakaopay.png\";import KakaoLogin from\"react-kakao-login\";import{Box}from\"@mui/system\";var Transition=forwardRef(function Transition(props,ref){return/*#__PURE__*/React.createElement(Slide,Object.assign({direction:\"up\",ref:ref},props));});var pageState={login:\"LOGIN\",pay:\"PAY\",purchase:\"PURCHASE\"};export default function App(props){var _sessionStorage$getIt,_sessionStorage$getIt2;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),bMarketingAgreed=_useState2[0],setMarketingAgreed=_useState2[1];var _React$useState=React.useState((_sessionStorage$getIt=sessionStorage.getItem(\"userId\"))!==null&&_sessionStorage$getIt!==void 0?_sessionStorage$getIt:\"\"),_React$useState2=_slicedToArray(_React$useState,2),userId=_React$useState2[0],setUserId=_React$useState2[1];var _React$useState3=React.useState((_sessionStorage$getIt2=sessionStorage.getItem(\"stationId\"))!==null&&_sessionStorage$getIt2!==void 0?_sessionStorage$getIt2:\"\"),_React$useState4=_slicedToArray(_React$useState3,2),stationId=_React$useState4[0],setStationId=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),timeStamp=_React$useState6[0],setTimeStamp=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isLoading=_React$useState8[0],setLoading=_React$useState8[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),registerOpen=_useState4[0],setRegisterOpen=_useState4[1];var _React$useState9=React.useState(pageState.login),_React$useState10=_slicedToArray(_React$useState9,2),page=_React$useState10[0],setPage=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),data=_React$useState12[0],setData=_React$useState12[1];var _useState5=useState(\"-\"),_useState6=_slicedToArray(_useState5,2),storeName=_useState6[0],setStoreName=_useState6[1];var _useState7=useState(\"-\"),_useState8=_slicedToArray(_useState7,2),defaultPrice=_useState8[0],setDefaultPrice=_useState8[1];var _useState9=useState(\"-\"),_useState10=_slicedToArray(_useState9,2),paymentType=_useState10[0],setPaymentType=_useState10[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;useEffect(function(){if(userId&&stationId)setPage(pageState.purchase);},[]);var checkMobile=function checkMobile(){var varUA=navigator.userAgent.toLowerCase();//userAgent 값 얻기\nif(varUA.indexOf(\"android\")>-1){//안드로이드\nreturn\"android\";}else if(varUA.indexOf(\"iphone\")>-1||varUA.indexOf(\"ipad\")>-1||varUA.indexOf(\"ipod\")>-1){//IOS\nreturn\"ios\";}else{//아이폰, 안드로이드 외\nreturn\"other\";}};// iphone snackbar\nuseEffect(function(){if(page===pageState.login){if(checkMobile()==\"ios\"){enqueueSnackbar(\"로그인 후 좌측 상단 ◀︎ Safari 를 클릭해주세요\",{variant:\"info\",anchorOrigin:{vertical:\"top\",horizontal:\"center\"},TransitionComponent:Slide,autoHideDuration:3000// sx: {\n//   \"& .SnackbarContent-root\": {\n//     color: \"#00C853\",\n//     backgroundColor: \"black\",\n//     border: \"2px solid #00C853\",\n//   },\n// },\n});}}},[]);// PURCHASE START\nvar _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),priceInfo=_React$useState14[0],setPriceInfo=_React$useState14[1];var _React$useState15=React.useState(\"https://bantoweb.xyz/policy/service_policy\"),_React$useState16=_slicedToArray(_React$useState15,2),policyUrl=_React$useState16[0],setPolicyUrl=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),open=_React$useState18[0],setOpen=_React$useState18[1];var _React$useState19=React.useState(\"paper\"),_React$useState20=_slicedToArray(_React$useState19,2),scroll=_React$useState20[0],setScroll=_React$useState20[1];var descriptionElementRef=React.useRef(null);function numberWithCommas(x){return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var kakaoLoginSuccess=function kakaoLoginSuccess(authObj){var response=authObj.response;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accessToken,kakaoInfo,kakaoPolicy,phoneNumber,kakaoId,email,marketingAgreed,bMarketingPolicyAgreed,loginWithKakao;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:accessToken=response.access_token;_context.next=3;return axios.post(constants.hosts.banto+\"/banto2/app/user/getKakaoInfo\",{accessKey:accessToken});case 3:kakaoInfo=_context.sent;if(!(kakaoInfo.data.code!==200)){_context.next=7;break;}window.alert(kakaoInfo.data.msg);return _context.abrupt(\"return\");case 7:_context.next=9;return axios.post(constants.hosts.banto+\"/banto2/app/user/getKakaoPolicy\",{accessKey:accessToken});case 9:kakaoPolicy=_context.sent;if(!(kakaoPolicy.data.code!==200)){_context.next=13;break;}window.alert(kakaoPolicy.data.msg);return _context.abrupt(\"return\");case 13:if(kakaoInfo.data.data.kakao_account.has_phone_number){_context.next=16;break;}window.alert(\"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\");return _context.abrupt(\"return\");case 16:phoneNumber=kakaoInfo.data.data.kakao_account.phone_number;phoneNumber=phoneNumber.replace(\" \",\"\");phoneNumber=phoneNumber.replace(/-/gi,\"\");kakaoId=kakaoInfo.data.data.id;email=kakaoInfo.data.data.kakao_account.email;marketingAgreed=kakaoPolicy.data.data.allowed_service_terms.length;bMarketingPolicyAgreed=marketingAgreed===4?true:false;setMarketingAgreed(bMarketingPolicyAgreed);_context.next=26;return axios.post(constants.hosts.banto+\"/banto2/app/user/loginWithKakaoId\",{kakaoId:kakaoId,phoneNumber:phoneNumber,email:email});case 26:loginWithKakao=_context.sent;setUserId(loginWithKakao.data.data.userId);sessionStorage.setItem(\"userId\",loginWithKakao.data.data.userId);sessionStorage.setItem(\"isLogin\",String(new Date()));setLoading(false);case 31:case\"end\":return _context.stop();}}},_callee);}))();};var kakaoLoginFail=function kakaoLoginFail(err){setLoading(true);alert(JSON.stringify(err));setLoading(false);window.alert(\"\".concat(err));};useEffect(function(){if(open){var descriptionElement=descriptionElementRef.current;if(descriptionElement!==null){descriptionElement.focus();}}},[open]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userRentInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(page!==pageState.purchase)){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:_context2.next=4;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")});case 4:userRentInfo=_context2.sent;if(!(userRentInfo.data.code!==200)){_context2.next=8;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");// props.history.push(\"/\");\nreturn _context2.abrupt(\"return\");case 8:if(!userRentInfo.data.data.bRenting){_context2.next=11;break;}// window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\nprops.history.push(\"/simple/renting\");return _context2.abrupt(\"return\");case 11:case\"end\":return _context2.stop();}}},_callee2);}))();},[page]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _yield$axios$post,checkUserPayment,payment,priceInfo,_yield$axios$post2,store;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(page!==pageState.purchase)){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return axios.post(constants.hosts.banto+\"/banto2/app/user/checkUserPayment\",{userId:sessionStorage.getItem(\"userId\")});case 4:_yield$axios$post=_context3.sent;checkUserPayment=_yield$axios$post.data;payment=checkUserPayment.data.payment;if(payment===\"kakaoPay\"){setPaymentType(\"카카오페이\");}else if(payment===\"creditCard\"){setPaymentType(\"신용카드\");}_context3.next=10;return axios.post(constants.hosts.banto+\"/banto2/app/price/getPriceInfo\",{stationId:sessionStorage.getItem(\"stationId\")});case 10:priceInfo=_context3.sent;// console.log(res);\nif(priceInfo.status!==200){console.log(priceInfo.msg);}setPriceInfo(priceInfo.data);_context3.next=15;return axios.post(constants.hosts.banto+\"/banto2/app/store/getStoreName\",{stationId:sessionStorage.getItem(\"stationId\")});case 15:_yield$axios$post2=_context3.sent;store=_yield$axios$post2.data;if(store.code===200){setStoreName(store.data.storeName);}case 18:case\"end\":return _context3.stop();}}},_callee3);}))();},[page]);// PURCHASE END\nuseEffect(function(){if(userId===\"\"){return;}_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var userPayment,rentInfo,updateUserPolicy,payment,bRenting;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);console.log(\"유저아이디 들어옴\");_context4.next=4;return axios.post(constants.hosts.banto+\"/banto2/app/user/checkUserPayment\",{userId:userId});case 4:userPayment=_context4.sent;_context4.next=7;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:userId});case 7:rentInfo=_context4.sent;_context4.next=10;return axios.post(constants.hosts.banto+\"/banto2/app/user/updateUserAgreedPolicy\",{userId:userId,bMarketingPolicyAgreed:bMarketingAgreed});case 10:updateUserPolicy=_context4.sent;payment=userPayment.data.data.payment;bRenting=rentInfo.data.data.bRenting;setLoading(false);console.log(payment);if(bRenting){setPage(pageState.purchase);}else if(payment===\"none\"){props.history.push(\"/simple/kakaopay\");}else{setPage(pageState.purchase);}case 16:case\"end\":return _context4.stop();}}},_callee4);}))();setLoading(false);},[userId,timeStamp]);// LOGIN END\nfunction registerKakaoPay(_x){return _registerKakaoPay.apply(this,arguments);}function _registerKakaoPay(){_registerKakaoPay=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(userId){var registerKakao;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/user/registerKakaoPay\",{userId:userId});case 2:registerKakao=_context8.sent;setData(registerKakao.data);console.log(String(window.location).search(\"banto.io\")>0&&registerKakao.data.code===200);if((String(window.location).search(\"banto.io\")>0||String(window.location).search(\"localhost\")>0)&&registerKakao.data.code===200){setPage(pageState.pay);window.location.href=registerKakao.data.data.redirectUrl;}case 6:case\"end\":return _context8.stop();}}},_callee8);}));return _registerKakaoPay.apply(this,arguments);}var registerCreditCard=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(cardNumber,expiry,birth,password){var userId,expiryMonth,expiryYear,fullExpiry,_yield$axios$post3,registerResult;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:userId=sessionStorage.getItem(\"userId\");expiryMonth=expiry.slice(0,2);expiryYear=\"20\".concat(expiry.slice(2,4));fullExpiry=expiryYear+expiryMonth;_context5.prev=4;_context5.next=7;return axios.post(// `http://localhost:3009/banto2/app/payment/iamport/register`,\n\"\".concat(constants.hosts.banto,\"/banto2/app/payment/iamport/register\"),{cardNumber:cardNumber,expiry:fullExpiry,birth:birth,password:password,userId:userId});case 7:_yield$axios$post3=_context5.sent;registerResult=_yield$axios$post3.data;if(!(registerResult.code===300)){_context5.next=12;break;}alert(registerResult.msg);return _context5.abrupt(\"return\");case 12:props.history.push(\"/payregistsuccess\");_context5.next=18;break;case 15:_context5.prev=15;_context5.t0=_context5[\"catch\"](4);alert(_context5.t0.response.data.msg);case 18:case\"end\":return _context5.stop();}}},_callee5,null,[[4,15]]);}));return function registerCreditCard(_x2,_x3,_x4,_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Box,{sx:{backgroundColor:\"#0B0B0C\",height:\"100vh\"}},page===pageState.login&&/*#__PURE__*/React.createElement(React.Fragment,null,isLoading&&/*#__PURE__*/React.createElement(Stack,{alignItems:\"center\"},/*#__PURE__*/React.createElement(CircularProgress,{sx:{color:\"white\",backgroundColor:\"white\"}})),/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{pt:\"20%\",pb:\"20%\"}},/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{p:5,alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"img\",{src:BantoLogo,alt:\"\"})),/*#__PURE__*/React.createElement(CustomLeftBox,{sx:{p:5}},/*#__PURE__*/React.createElement(Typography,{color:\"white\"},\"\\uAC04\\uD3B8 \\uACB0\\uC81C\\uB97C \\uC774\\uC6A9\\uD558\\uC2DC\\uB824\\uBA74\"),/*#__PURE__*/React.createElement(Typography,{color:\"white\",fontWeight:500},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#FFD95A\"}},\"\\uCE74\\uCE74\\uC624 \\uACC4\\uC815 \\uB85C\\uADF8\\uC778\"),\"\\uC744 \\uC774\\uC6A9\\uD558\\uC154\\uC57C \\uD569\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(CustomCenterBox,null,/*#__PURE__*/React.createElement(KakaoLogin,{token:\"86d0fb152d4eb19ea7bb774cd3c7809c\",onSuccess:kakaoLoginSuccess,onFail:kakaoLoginFail,render:function render(_ref6){var onClick=_ref6.onClick;return/*#__PURE__*/React.createElement(Button,{sx:{width:\"90%\",height:\"50px\",backgroundColor:\"black\",color:\"#FFD95A\",fontWeight:500,border:\"2px solid #FFD95A\",borderRadius:\"15px\",boxSizing:\"border-box\"},onClick:onClick},/*#__PURE__*/React.createElement(\"img\",{src:kakaoIcon,alt:\"\",style:{paddingRight:10}}),\"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\");}})))),page===pageState.pay&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{pt:\"20%\",pb:\"20%\"}},/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{p:5,alignItems:\"center\"}},/*#__PURE__*/React.createElement(Typography,{color:\"white\",fontSize:40,fontWeight:700},\"BANTO\")),/*#__PURE__*/React.createElement(CustomLeftBox,{sx:{p:5}},/*#__PURE__*/React.createElement(Typography,{color:\"white\"},\"\\uACB0\\uC81C \\uBC29\\uBC95\\uC744 \\uB4F1\\uB85D\\uD558\\uC2DC\\uBA74 \\uACB0\\uC81C \\uD6C4\"),/*#__PURE__*/React.createElement(Typography,{color:\"white\"},\"\\uBCF4\\uC870\\uBC30\\uD130\\uB9AC\\uB97C \\uB300\\uC5EC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(CustomCenterBox,null,/*#__PURE__*/React.createElement(Button,{sx:{width:\"90%\",height:\"50px\",backgroundColor:\"black\",color:\"#FFD95A\",fontWeight:500,border:\"2px solid #FFD95A\",borderRadius:\"15px\",boxSizing:\"border-box\"},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return registerKakaoPay(sessionStorage.getItem(\"userId\"));case 2:case\"end\":return _context6.stop();}}},_callee6);}))},/*#__PURE__*/React.createElement(\"img\",{src:kakaopayIcon,alt:\"\",style:{paddingRight:10}}),\"\\uCE74\\uCE74\\uC624\\uD398\\uC774\")),/*#__PURE__*/React.createElement(CustomCenterBox,null,/*#__PURE__*/React.createElement(Button,{sx:{width:\"90%\",height:\"50px\",backgroundColor:\"black\",color:\"#EAEBF1\",fontWeight:500,border:\"2px solid #EAEBF1\",borderRadius:\"15px\",boxSizing:\"border-box\"},onClick:function onClick(){setRegisterOpen(true);}},/*#__PURE__*/React.createElement(CreditCardIcon,{color:\"#EAEBF1\",sx:{m:1}}),\"\\uC2E0\\uC6A9\\uCE74\\uB4DC / \\uCCB4\\uD06C\\uCE74\\uB4DC\")))),/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(Dialog,{fullScreen:true,open:registerOpen,TransitionComponent:Transition,onClose:function onClose(){setRegisterOpen(false);}},/*#__PURE__*/React.createElement(CardInputForm,{onSubmit:registerCreditCard,onClose:function onClose(){setRegisterOpen(false);}}))),page===pageState.purchase&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{pt:8,pb:4}},/*#__PURE__*/React.createElement(Typography,{color:\"white\",fontWeight:500,fontSize:20},\"\\uAE30\\uBCF8 \\uACB0\\uC81C \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(Typography,{color:\"#00e676\",fontWeight:700,fontSize:50,fontFamily:\"Montserrat\"},priceInfo&&numberWithCommas(priceInfo.data.basePrice),\"\\uC6D0\")),/*#__PURE__*/React.createElement(Box,{sx:{pl:2,pr:2}},/*#__PURE__*/React.createElement(Box,{sx:{backgroundColor:\"black\",border:\"2px solid #242427\",boxSizing:\"border-box\",borderRadius:\"15px\"}},/*#__PURE__*/React.createElement(Box,{sx:{p:3}},/*#__PURE__*/React.createElement(Stack,{spacing:2},/*#__PURE__*/React.createElement(Typography,{color:\"#c0c1c5\",fontSize:{xs:12,l:14}},\"* \\uCD5C\\uC885 \\uACB0\\uC81C\\uB0B4\\uC5ED\\uC740 \\uBCF4\\uC870\\uBC30\\uD130\\uB9AC \\uBC18\\uB0A9 \\uD6C4 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(Typography,{color:\"#c0c1c5\",fontSize:{xs:12,l:14}},\"* \\uBBF8\\uBC18\\uB0A9 \\uC2DC(\",priceInfo&&priceInfo.data.missingTime,\"\\uC2DC\\uAC04) \\uC774\\uD6C4\",\" \",priceInfo&&numberWithCommas(priceInfo.data.missingPrice),\"\\uC6D0\\uC758 \\uC5F0\\uCCB4\\uB8CC\\uAC00 \\uBD80\\uAC00\\uB418\\uC624\\uB2C8 \\uAF2D \\uBC18\\uB0A9\\uC744 \\uD574\\uC8FC\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\"))),/*#__PURE__*/React.createElement(Box,{sx:{p:3}},/*#__PURE__*/React.createElement(Stack,{spacing:3},/*#__PURE__*/React.createElement(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(Typography,{color:\"#94949d\",fontSize:14},\"\\uB9E4\\uC7A5\\uBA85\"),/*#__PURE__*/React.createElement(Typography,{color:\"#EAEBF1\",fontWeight:600,fontSize:16},storeName)),/*#__PURE__*/React.createElement(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(Typography,{color:\"#94949d\",fontSize:14},\"\\uAE30\\uBCF8 \\uC81C\\uACF5 \\uC2DC\\uAC04 / \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(Typography,{color:\"#EAEBF1\",fontWeight:600,fontSize:16},defaultPrice)),/*#__PURE__*/React.createElement(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(Typography,{color:\"#94949d\",fontSize:14},\"\\uCD94\\uAC00 \\uC774\\uC6A9 \\uAE08\\uC561\"),/*#__PURE__*/React.createElement(Typography,{color:\"#EAEBF1\",fontWeight:600,fontSize:16},priceInfo&&priceInfo.data.extraTerm,\"\\uBD84/\",priceInfo&&priceInfo.data.extraPrice,\"\\uC6D0\")),/*#__PURE__*/React.createElement(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(Typography,{color:\"#94949d\",fontSize:14},\"\\uACB0\\uC81C \\uC218\\uB2E8\"),/*#__PURE__*/React.createElement(Typography,{color:\"#EAEBF1\",fontWeight:600,fontSize:16},paymentType)))))),/*#__PURE__*/React.createElement(CustomCenterBox,{sx:{p:2,pt:4}},/*#__PURE__*/React.createElement(Typography,{color:\"#535362\"},\"\\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\\uB97C \\uB204\\uB974\\uC2DC\\uBA74 \\\"\\uBC18\\uD1A0\\\"\\uC758\",\" \",/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uC774\\uC6A9\\uC57D\\uAD00\"),\"\\uACFC\"),/*#__PURE__*/React.createElement(Typography,{color:\"#535362\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");handleOpen();},style:{textDecoration:\"underline\",lineHeight:\"20px\",color:\"#535362\"}},\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uCC98\\uB9AC\\uBC29\\uCE68\"),\"\\uC5D0 \\uC790\\uB3D9\\uC73C\\uB85C \\uB3D9\\uC758 \\uCC98\\uB9AC\\uAC00 \\uB429\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(CustomButton,{className:\"purchaseForWebButton\",callback:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var userIsRenting,stationInfo,rent;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.post(constants.hosts.banto+\"/banto2/app/rent/checkUserRenting\",{userId:sessionStorage.getItem(\"userId\")});case 2:userIsRenting=_context7.sent;if(!(userIsRenting.data.code!==200)){_context7.next=6;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");return _context7.abrupt(\"return\");case 6:if(!userIsRenting.data.data.bRenting){_context7.next=9;break;}window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");return _context7.abrupt(\"return\");case 9:_context7.next=11;return axios.post(constants.hosts.banto+\"/banto2/app/store/getStationInfo\",{stationId:sessionStorage.getItem(\"stationId\")});case 11:stationInfo=_context7.sent;if(!(stationInfo.data.code!==200)){_context7.next=15;break;}window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");return _context7.abrupt(\"return\");case 15:console.log(\"스테이션인포\",stationInfo.data.body);if(!(stationInfo.data.body.workState===2)){_context7.next=19;break;}window.alert(\"모든 배터리가 충전중에 있습니다 기다려 주세요\");return _context7.abrupt(\"return\");case 19:if(!(stationInfo.data.body.workState!==1)){_context7.next=22;break;}window.alert(\"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\");return _context7.abrupt(\"return\");case 22:_context7.next=24;return axios.post(constants.hosts.banto+\"/banto2/app/rent/requestSimpleRent\",{userId:sessionStorage.getItem(\"userId\"),stationId:sessionStorage.getItem(\"stationId\"),couponId:null});case 24:rent=_context7.sent;console.log(rent);if(!(rent.data.code!==200)){_context7.next=30;break;}alert(rent.data.msg);props.history.push(\"/simple/rentfail\");return _context7.abrupt(\"return\");case 30:props.history.push(\"/simple/renting\");return _context7.abrupt(\"return\");case 32:case\"end\":return _context7.stop();}}},_callee7);}))},\"\\uB3D9\\uC758 \\uD6C4 \\uB300\\uC5EC\\uD558\\uAE30\"),/*#__PURE__*/React.createElement(Box,{sx:{backgroundColor:\"#0B0B0C\",width:\"100%\",height:\"150px\"},className:\"purchaseForWebEmptySpace\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,scroll:scroll,\"aria-labelledby\":\"scroll-dialog-title\",\"aria-describedby\":\"scroll-dialog-description\",fullScreen:true},/*#__PURE__*/React.createElement(DialogTitle,{id:\"scroll-dialog-title\"},\"\\uC57D\\uAD00 \\uB0B4\\uC6A9\"),/*#__PURE__*/React.createElement(DialogContent,{style:{height:\"100%\"},dividers:scroll===\"paper\"},/*#__PURE__*/React.createElement(DialogContentText,{style:{width:\"100%\",height:\"100%\"},id:\"scroll-dialog-description\",ref:descriptionElementRef,tabIndex:-1},/*#__PURE__*/React.createElement(\"iframe\",{style:{width:\"100%\",height:\"100%\"},src:policyUrl}))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(CustomButton,{onClick:handleClose,color:\"primary\"},\"\\uD655\\uC778\"))))));}","map":{"version":3,"sources":["/Users/heoseongjae/Documents/작업/banto-web/src/pages/simplePay/SimplePayLogin.js"],"names":["React","forwardRef","useEffect","useState","axios","constants","CircularProgress","Typography","Button","Slide","Stack","Link","BantoLogo","CustomButton","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useSnackbar","CreditCardIcon","CustomCenterBox","CustomLeftBox","CardInputForm","kakaoIcon","kakaopayIcon","KakaoLogin","Box","Transition","props","ref","pageState","login","pay","purchase","App","bMarketingAgreed","setMarketingAgreed","sessionStorage","getItem","userId","setUserId","stationId","setStationId","timeStamp","setTimeStamp","isLoading","setLoading","registerOpen","setRegisterOpen","page","setPage","data","setData","storeName","setStoreName","defaultPrice","setDefaultPrice","paymentType","setPaymentType","enqueueSnackbar","checkMobile","varUA","navigator","userAgent","toLowerCase","indexOf","variant","anchorOrigin","vertical","horizontal","TransitionComponent","autoHideDuration","priceInfo","setPriceInfo","policyUrl","setPolicyUrl","open","setOpen","scroll","setScroll","descriptionElementRef","useRef","numberWithCommas","x","String","replace","handleOpen","handleClose","kakaoLoginSuccess","authObj","response","accessToken","access_token","post","hosts","banto","accessKey","kakaoInfo","code","window","alert","msg","kakaoPolicy","kakao_account","has_phone_number","phoneNumber","phone_number","kakaoId","id","email","marketingAgreed","allowed_service_terms","length","bMarketingPolicyAgreed","loginWithKakao","setItem","Date","kakaoLoginFail","err","JSON","stringify","descriptionElement","current","focus","userRentInfo","bRenting","history","push","checkUserPayment","payment","status","console","log","store","userPayment","rentInfo","updateUserPolicy","registerKakaoPay","registerKakao","location","search","href","redirectUrl","registerCreditCard","cardNumber","expiry","birth","password","expiryMonth","slice","expiryYear","fullExpiry","registerResult","backgroundColor","height","color","pt","pb","p","alignItems","onClick","width","fontWeight","border","borderRadius","boxSizing","paddingRight","m","basePrice","pl","pr","xs","l","missingTime","missingPrice","display","flexDirection","justifyContent","extraTerm","extraPrice","textDecoration","lineHeight","userIsRenting","stationInfo","body","workState","couponId","rent"],"mappings":"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","sourcesContent":["import React, { forwardRef, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport constants from \"../../Constants\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { Typography, Button, Slide, Stack, Link } from \"@mui/material\";\n\nimport BantoLogo from \"../../assets/icon/banto_text_logo.png\";\n\n// PURCHASE START\n// import { Link } from \"react-router-dom\";\nimport CustomButton from \"./components/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport CreditCardIcon from \"@mui/icons-material/CreditCard\";\nimport CustomCenterBox from \"../../components/CustomCenterBox\";\nimport CustomLeftBox from \"../../components/CustomLeftBox\";\nimport CardInputForm from \"../../components/CardInputForm\";\n\nimport kakaoIcon from \"../../assets/icon/kakao.png\";\nimport kakaopayIcon from \"../../assets/icon/kakaopay.png\";\n\nimport KakaoLogin from \"react-kakao-login\";\nimport { Box } from \"@mui/system\";\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst pageState = {\n  login: \"LOGIN\",\n  pay: \"PAY\",\n  purchase: \"PURCHASE\",\n};\n\nexport default function App(props) {\n  const [bMarketingAgreed, setMarketingAgreed] = useState(false);\n  const [userId, setUserId] = React.useState(\n    sessionStorage.getItem(\"userId\") ?? \"\"\n  );\n  const [stationId, setStationId] = React.useState(\n    sessionStorage.getItem(\"stationId\") ?? \"\"\n  );\n  const [timeStamp, setTimeStamp] = React.useState(\"\");\n  const [isLoading, setLoading] = React.useState(false);\n\n  const [registerOpen, setRegisterOpen] = useState(false);\n\n  const [page, setPage] = React.useState(pageState.login);\n  const [data, setData] = React.useState(\"\");\n\n  const [storeName, setStoreName] = useState(\"-\");\n  const [defaultPrice, setDefaultPrice] = useState(\"-\");\n  const [paymentType, setPaymentType] = useState(\"-\");\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (userId && stationId) setPage(pageState.purchase);\n  }, []);\n\n  const checkMobile = () => {\n    var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\n\n    if (varUA.indexOf(\"android\") > -1) {\n      //안드로이드\n      return \"android\";\n    } else if (\n      varUA.indexOf(\"iphone\") > -1 ||\n      varUA.indexOf(\"ipad\") > -1 ||\n      varUA.indexOf(\"ipod\") > -1\n    ) {\n      //IOS\n      return \"ios\";\n    } else {\n      //아이폰, 안드로이드 외\n      return \"other\";\n    }\n  };\n\n  // iphone snackbar\n  useEffect(() => {\n    if (page === pageState.login) {\n      if (checkMobile() == \"ios\") {\n        enqueueSnackbar(\"로그인 후 좌측 상단 ◀︎ Safari 를 클릭해주세요\", {\n          variant: \"info\",\n          anchorOrigin: {\n            vertical: \"top\",\n            horizontal: \"center\",\n          },\n          TransitionComponent: Slide,\n          autoHideDuration: 3000,\n          // sx: {\n          //   \"& .SnackbarContent-root\": {\n          //     color: \"#00C853\",\n          //     backgroundColor: \"black\",\n          //     border: \"2px solid #00C853\",\n          //   },\n          // },\n        });\n      }\n    }\n  }, []);\n\n  // PURCHASE START\n  const [priceInfo, setPriceInfo] = React.useState(\"\");\n  const [policyUrl, setPolicyUrl] = React.useState(\n    \"https://bantoweb.xyz/policy/service_policy\"\n  );\n  const [open, setOpen] = React.useState(false);\n  const [scroll, setScroll] = React.useState(\"paper\");\n  const descriptionElementRef = React.useRef(null);\n\n  function numberWithCommas(x) {\n    return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const kakaoLoginSuccess = (authObj) => {\n    const { response } = authObj;\n    (async () => {\n      const accessToken = response.access_token;\n\n      const kakaoInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/getKakaoInfo\",\n        {\n          accessKey: accessToken,\n        }\n      );\n      if (kakaoInfo.data.code !== 200) {\n        window.alert(kakaoInfo.data.msg);\n        return;\n      }\n      const kakaoPolicy = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/getKakaoPolicy\",\n        {\n          accessKey: accessToken,\n        }\n      );\n      if (kakaoPolicy.data.code !== 200) {\n        window.alert(kakaoPolicy.data.msg);\n        return;\n      }\n      if (!kakaoInfo.data.data.kakao_account.has_phone_number) {\n        window.alert(\n          \"카카오ID에 휴대번호 정보가 없습니다.반토 앱을 사용해 주세요\"\n        );\n        return;\n      }\n      let phoneNumber = kakaoInfo.data.data.kakao_account.phone_number;\n      phoneNumber = phoneNumber.replace(\" \", \"\");\n      phoneNumber = phoneNumber.replace(/-/gi, \"\");\n      const kakaoId = kakaoInfo.data.data.id;\n      const email = kakaoInfo.data.data.kakao_account.email;\n\n      const marketingAgreed =\n        kakaoPolicy.data.data.allowed_service_terms.length;\n      const bMarketingPolicyAgreed = marketingAgreed === 4 ? true : false;\n      setMarketingAgreed(bMarketingPolicyAgreed);\n      const loginWithKakao = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/loginWithKakaoId\",\n        {\n          kakaoId,\n          phoneNumber,\n          email,\n        }\n      );\n      setUserId(loginWithKakao.data.data.userId);\n      sessionStorage.setItem(\"userId\", loginWithKakao.data.data.userId);\n      sessionStorage.setItem(\"isLogin\", String(new Date()));\n      setLoading(false);\n    })();\n  };\n\n  const kakaoLoginFail = (err) => {\n    setLoading(true);\n\n    alert(JSON.stringify(err));\n    setLoading(false);\n\n    window.alert(`${err}`);\n  };\n\n  useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  useEffect(() => {\n    (async () => {\n      if (page !== pageState.purchase) {\n        return;\n      }\n      const userRentInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n        {\n          userId: sessionStorage.getItem(\"userId\"),\n        }\n      );\n\n      if (userRentInfo.data.code !== 200) {\n        window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n        // props.history.push(\"/\");\n        return;\n      }\n      if (userRentInfo.data.data.bRenting) {\n        // window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n        props.history.push(\"/simple/renting\");\n        return;\n      }\n    })();\n  }, [page]);\n\n  useEffect(() => {\n    (async () => {\n      if (page !== pageState.purchase) {\n        return;\n      }\n      const { data: checkUserPayment } = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/checkUserPayment\",\n        {\n          userId: sessionStorage.getItem(\"userId\"),\n        }\n      );\n\n      const payment = checkUserPayment.data.payment;\n\n      if (payment === \"kakaoPay\") {\n        setPaymentType(\"카카오페이\");\n      } else if (payment === \"creditCard\") {\n        setPaymentType(\"신용카드\");\n      }\n\n      const priceInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/price/getPriceInfo\",\n        {\n          stationId: sessionStorage.getItem(\"stationId\"),\n        }\n      );\n\n      // console.log(res);\n      if (priceInfo.status !== 200) {\n        console.log(priceInfo.msg);\n      }\n      setPriceInfo(priceInfo.data);\n\n      const { data: store } = await axios.post(\n        constants.hosts.banto + \"/banto2/app/store/getStoreName\",\n        {\n          stationId: sessionStorage.getItem(\"stationId\"),\n        }\n      );\n\n      if (store.code === 200) {\n        setStoreName(store.data.storeName);\n      }\n    })();\n  }, [page]);\n\n  // PURCHASE END\n\n  useEffect(() => {\n    if (userId === \"\") {\n      return;\n    }\n    (async () => {\n      setLoading(true);\n\n      console.log(\"유저아이디 들어옴\");\n      const userPayment = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/checkUserPayment\",\n        { userId: userId }\n      );\n\n      const rentInfo = await axios.post(\n        constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n        {\n          userId: userId,\n        }\n      );\n      const updateUserPolicy = await axios.post(\n        constants.hosts.banto + \"/banto2/app/user/updateUserAgreedPolicy\",\n        {\n          userId: userId,\n          bMarketingPolicyAgreed: bMarketingAgreed,\n        }\n      );\n      const payment = userPayment.data.data.payment;\n      const bRenting = rentInfo.data.data.bRenting;\n      setLoading(false);\n      console.log(payment);\n      if (bRenting) {\n        setPage(pageState.purchase);\n      } else if (payment === \"none\") {\n        props.history.push(\"/simple/kakaopay\");\n      } else {\n        setPage(pageState.purchase);\n      }\n    })();\n    setLoading(false);\n  }, [userId, timeStamp]);\n\n  // LOGIN END\n  async function registerKakaoPay(userId) {\n    const registerKakao = await axios.post(\n      constants.hosts.banto + \"/banto2/app/user/registerKakaoPay\",\n      {\n        userId: userId,\n      }\n    );\n    setData(registerKakao.data);\n    console.log(\n      String(window.location).search(\"banto.io\") > 0 &&\n        registerKakao.data.code === 200\n    );\n    if (\n      (String(window.location).search(\"banto.io\") > 0 ||\n        String(window.location).search(\"localhost\") > 0) &&\n      registerKakao.data.code === 200\n    ) {\n      setPage(pageState.pay);\n      window.location.href = registerKakao.data.data.redirectUrl;\n    }\n  }\n\n  const registerCreditCard = async (cardNumber, expiry, birth, password) => {\n    const userId = sessionStorage.getItem(\"userId\");\n\n    const expiryMonth = expiry.slice(0, 2);\n    const expiryYear = `20${expiry.slice(2, 4)}`;\n\n    const fullExpiry = expiryYear + expiryMonth;\n\n    try {\n      const { data: registerResult } = await axios.post(\n        // `http://localhost:3009/banto2/app/payment/iamport/register`,\n        `${constants.hosts.banto}/banto2/app/payment/iamport/register`,\n        {\n          cardNumber,\n          expiry: fullExpiry,\n          birth,\n          password,\n          userId,\n        }\n      );\n\n      if (registerResult.code === 300) {\n        alert(registerResult.msg);\n        return;\n      }\n\n      props.history.push(\"/payregistsuccess\");\n    } catch (error) {\n      alert(error.response.data.msg);\n    }\n  };\n\n  return (\n    <Box sx={{ backgroundColor: \"#0B0B0C\", height: \"100vh\" }}>\n      {page === pageState.login && (\n        <>\n          {isLoading && (\n            <Stack alignItems=\"center\">\n              <CircularProgress\n                sx={{ color: \"white\", backgroundColor: \"white\" }}\n              />\n            </Stack>\n          )}\n\n          <CustomCenterBox sx={{ pt: \"20%\", pb: \"20%\" }}>\n            <CustomCenterBox sx={{ p: 5, alignItems: \"center\" }}>\n              <img src={BantoLogo} alt=\"\" />\n              {/* <Typography color=\"white\" fontSize={40} fontWeight={700}>\n                BANTO\n              </Typography> */}\n            </CustomCenterBox>\n\n            <CustomLeftBox sx={{ p: 5 }}>\n              <Typography color=\"white\">간편 결제를 이용하시려면</Typography>\n              <Typography color=\"white\" fontWeight={500}>\n                <span style={{ color: \"#FFD95A\" }}>카카오 계정 로그인</span>을\n                이용하셔야 합니다.\n              </Typography>\n            </CustomLeftBox>\n\n            <CustomCenterBox>\n              <KakaoLogin\n                token=\"86d0fb152d4eb19ea7bb774cd3c7809c\"\n                onSuccess={kakaoLoginSuccess}\n                onFail={kakaoLoginFail}\n                render={({ onClick }) => {\n                  return (\n                    <Button\n                      sx={{\n                        width: \"90%\",\n                        height: \"50px\",\n                        backgroundColor: \"black\",\n                        color: \"#FFD95A\",\n                        fontWeight: 500,\n                        border: \"2px solid #FFD95A\",\n                        borderRadius: \"15px\",\n                        boxSizing: \"border-box\",\n                      }}\n                      onClick={onClick}\n                    >\n                      <img\n                        src={kakaoIcon}\n                        alt=\"\"\n                        style={{ paddingRight: 10 }}\n                      />\n                      카카오 로그인\n                    </Button>\n                  );\n                }}\n              />\n            </CustomCenterBox>\n          </CustomCenterBox>\n        </>\n      )}\n\n      {/* // LOGIN END\n    // KakaoPay Start */}\n      {page === pageState.pay && (\n        <>\n          <CustomCenterBox sx={{ pt: \"20%\", pb: \"20%\" }}>\n            <CustomCenterBox sx={{ p: 5, alignItems: \"center\" }}>\n              <Typography color=\"white\" fontSize={40} fontWeight={700}>\n                BANTO\n              </Typography>\n            </CustomCenterBox>\n\n            <CustomLeftBox sx={{ p: 5 }}>\n              <Typography color=\"white\">\n                결제 방법을 등록하시면 결제 후\n              </Typography>\n              <Typography color=\"white\">\n                보조배터리를 대여할 수 있습니다.\n              </Typography>\n            </CustomLeftBox>\n\n            <CustomCenterBox>\n              <Button\n                sx={{\n                  width: \"90%\",\n                  height: \"50px\",\n                  backgroundColor: \"black\",\n                  color: \"#FFD95A\",\n                  fontWeight: 500,\n                  border: \"2px solid #FFD95A\",\n                  borderRadius: \"15px\",\n                  boxSizing: \"border-box\",\n                }}\n                onClick={async () => {\n                  await registerKakaoPay(sessionStorage.getItem(\"userId\"));\n                }}\n              >\n                <img src={kakaopayIcon} alt=\"\" style={{ paddingRight: 10 }} />\n                카카오페이\n              </Button>\n            </CustomCenterBox>\n\n            <CustomCenterBox>\n              <Button\n                sx={{\n                  width: \"90%\",\n                  height: \"50px\",\n                  backgroundColor: \"black\",\n                  color: \"#EAEBF1\",\n                  fontWeight: 500,\n                  border: \"2px solid #EAEBF1\",\n                  borderRadius: \"15px\",\n                  boxSizing: \"border-box\",\n                }}\n                onClick={() => {\n                  setRegisterOpen(true);\n                }}\n              >\n                <CreditCardIcon color=\"#EAEBF1\" sx={{ m: 1 }} />\n                신용카드 / 체크카드\n              </Button>\n            </CustomCenterBox>\n          </CustomCenterBox>\n        </>\n      )}\n\n      <Box>\n        <Dialog\n          fullScreen\n          open={registerOpen}\n          TransitionComponent={Transition}\n          onClose={() => {\n            setRegisterOpen(false);\n          }}\n        >\n          <CardInputForm\n            onSubmit={registerCreditCard}\n            onClose={() => {\n              setRegisterOpen(false);\n            }}\n          />\n        </Dialog>\n      </Box>\n\n      {page === pageState.purchase && (\n        <>\n          <CustomCenterBox sx={{ pt: 8, pb: 4 }}>\n            <Typography color=\"white\" fontWeight={500} fontSize={20}>\n              기본 결제 금액\n            </Typography>\n            <Typography\n              color=\"#00e676\"\n              fontWeight={700}\n              fontSize={50}\n              fontFamily=\"Montserrat\"\n            >\n              {priceInfo && numberWithCommas(priceInfo.data.basePrice)}원\n            </Typography>\n          </CustomCenterBox>\n\n          <Box sx={{ pl: 2, pr: 2 }}>\n            <Box\n              sx={{\n                backgroundColor: \"black\",\n                border: \"2px solid #242427\",\n                boxSizing: \"border-box\",\n                borderRadius: \"15px\",\n              }}\n            >\n              <Box sx={{ p: 3 }}>\n                <Stack spacing={2}>\n                  <Typography color=\"#c0c1c5\" fontSize={{ xs: 12, l: 14 }}>\n                    * 최종 결제내역은 보조배터리 반납 후 확인할 수 있습니다.\n                  </Typography>\n                  <Typography color=\"#c0c1c5\" fontSize={{ xs: 12, l: 14 }}>\n                    * 미반납 시({priceInfo && priceInfo.data.missingTime}\n                    시간) 이후{\" \"}\n                    {priceInfo && numberWithCommas(priceInfo.data.missingPrice)}\n                    원의 연체료가 부가되오니 꼭 반납을 해주시기 바랍니다.\n                  </Typography>\n                </Stack>\n              </Box>\n\n              <Box sx={{ p: 3 }}>\n                <Stack spacing={3}>\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <Typography color=\"#94949d\" fontSize={14}>\n                      매장명\n                    </Typography>\n                    <Typography color=\"#EAEBF1\" fontWeight={600} fontSize={16}>\n                      {storeName}\n                    </Typography>\n                  </Box>\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <Typography color=\"#94949d\" fontSize={14}>\n                      기본 제공 시간 / 금액\n                    </Typography>\n                    <Typography color=\"#EAEBF1\" fontWeight={600} fontSize={16}>\n                      {defaultPrice}\n                    </Typography>\n                  </Box>\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <Typography color=\"#94949d\" fontSize={14}>\n                      추가 이용 금액\n                    </Typography>\n                    <Typography color=\"#EAEBF1\" fontWeight={600} fontSize={16}>\n                      {priceInfo && priceInfo.data.extraTerm}분/\n                      {priceInfo && priceInfo.data.extraPrice}원\n                    </Typography>\n                  </Box>\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <Typography color=\"#94949d\" fontSize={14}>\n                      결제 수단\n                    </Typography>\n                    <Typography color=\"#EAEBF1\" fontWeight={600} fontSize={16}>\n                      {paymentType}\n                    </Typography>\n                  </Box>\n                </Stack>\n              </Box>\n            </Box>\n          </Box>\n\n          <CustomCenterBox sx={{ p: 2, pt: 4 }}>\n            <Typography color=\"#535362\">\n              동의 후 대여하기를 누르시면 \"반토\"의{\" \"}\n              <Link\n                onClick={() => {\n                  setPolicyUrl(\"https://bantoweb.xyz/policy/service_policy\");\n                  handleOpen();\n                }}\n                style={{\n                  textDecoration: \"underline\",\n                  lineHeight: \"20px\",\n                  color: \"#535362\",\n                }}\n              >\n                이용약관\n              </Link>\n              과\n            </Typography>\n            <Typography color=\"#535362\">\n              <Link\n                onClick={() => {\n                  setPolicyUrl(\"https://bantoweb.xyz/policy/private_policy\");\n                  handleOpen();\n                }}\n                style={{\n                  textDecoration: \"underline\",\n                  lineHeight: \"20px\",\n                  color: \"#535362\",\n                }}\n              >\n                개인정보 처리방침\n              </Link>\n              에 자동으로 동의 처리가 됩니다.\n            </Typography>\n          </CustomCenterBox>\n\n          <CustomButton\n            className=\"purchaseForWebButton\"\n            callback={async () => {\n              const userIsRenting = await axios.post(\n                constants.hosts.banto + \"/banto2/app/rent/checkUserRenting\",\n                {\n                  userId: sessionStorage.getItem(\"userId\"),\n                }\n              );\n              if (userIsRenting.data.code !== 200) {\n                window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                return;\n              }\n              if (userIsRenting.data.data.bRenting) {\n                window.alert(\"현재 대여중입니다. 반납후 다시 시도해주세요\");\n                return;\n              }\n              const stationInfo = await axios.post(\n                constants.hosts.banto + \"/banto2/app/store/getStationInfo\",\n                {\n                  stationId: sessionStorage.getItem(\"stationId\"),\n                }\n              );\n\n              if (stationInfo.data.code !== 200) {\n                window.alert(\"시스템 에러: 반토 고객센터에 문의하세요\");\n                return;\n              }\n              console.log(\"스테이션인포\", stationInfo.data.body);\n              if (stationInfo.data.body.workState === 2) {\n                window.alert(\"모든 배터리가 충전중에 있습니다 기다려 주세요\");\n                return;\n              }\n\n              if (stationInfo.data.body.workState !== 1) {\n                window.alert(\n                  \"충전 스테이션이 아직 네트워크에 연결 되지 않았습니다. 확인 후 다시 시도해 주세요. (전원을 킨 후 1분정도의 시간이 걸릴 수 있습니다)\"\n                );\n                return;\n              }\n              const rent = await axios.post(\n                constants.hosts.banto + \"/banto2/app/rent/requestSimpleRent\",\n                {\n                  userId: sessionStorage.getItem(\"userId\"),\n                  stationId: sessionStorage.getItem(\"stationId\"),\n                  couponId: null,\n                }\n              );\n\n              console.log(rent);\n\n              if (rent.data.code !== 200) {\n                alert(rent.data.msg);\n                props.history.push(\"/simple/rentfail\");\n                return;\n              }\n              props.history.push(\"/simple/renting\");\n              return;\n            }}\n          >\n            동의 후 대여하기\n          </CustomButton>\n\n          <Box\n            sx={{\n              backgroundColor: \"#0B0B0C\",\n              width: \"100%\",\n              height: \"150px\",\n            }}\n            className=\"purchaseForWebEmptySpace\"\n          />\n\n          {/* 약관 */}\n          <div>\n            <Dialog\n              open={open}\n              onClose={handleClose}\n              scroll={scroll}\n              aria-labelledby=\"scroll-dialog-title\"\n              aria-describedby=\"scroll-dialog-description\"\n              fullScreen\n            >\n              <DialogTitle id=\"scroll-dialog-title\">약관 내용</DialogTitle>\n              <DialogContent\n                style={{ height: \"100%\" }}\n                dividers={scroll === \"paper\"}\n              >\n                <DialogContentText\n                  style={{ width: \"100%\", height: \"100%\" }}\n                  id=\"scroll-dialog-description\"\n                  ref={descriptionElementRef}\n                  tabIndex={-1}\n                >\n                  {\n                    <iframe\n                      style={{ width: \"100%\", height: \"100%\" }}\n                      src={policyUrl}\n                    />\n                  }\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <CustomButton onClick={handleClose} color=\"primary\">\n                  확인\n                </CustomButton>\n              </DialogActions>\n            </Dialog>\n          </div>\n        </>\n      )}\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}